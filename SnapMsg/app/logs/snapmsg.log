2024-09-16 22:54:25,540 - INFO - config - FastAPI application is starting...
2024-09-16 22:54:27,871 - INFO - config - Request received
2024-09-16 22:54:27,922 - INFO - config - Request received
2024-09-16 22:54:30,861 - INFO - config - Request received
2024-09-16 22:54:31,104 - INFO - config - Request received
2024-09-16 23:04:07,312 - INFO - config - Request received
2024-09-16 23:04:07,320 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:04:07,320 - ERROR - config - Unhandled exception: module 'fastapi.requests' has no attribute 'get'
2024-09-16 23:06:57,018 - INFO - config - FastAPI application is starting...
2024-09-16 23:07:01,032 - INFO - config - Request received
2024-09-16 23:07:01,034 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:07:01,035 - ERROR - config - Unhandled exception: module 'fastapi.requests' has no attribute 'get'
2024-09-16 23:08:00,316 - INFO - config - FastAPI application is starting...
2024-09-16 23:08:03,028 - INFO - config - Request received
2024-09-16 23:08:03,030 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:08:03,038 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:08:03,993 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:08:03,999 - INFO - services - User email: martin@example.com
2024-09-16 23:08:04,000 - ERROR - config - Unhandled exception: module 'datetime' has no attribute 'utcnow'
2024-09-16 23:08:55,657 - INFO - config - FastAPI application is starting...
2024-09-16 23:08:58,326 - INFO - config - Request received
2024-09-16 23:08:58,328 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:08:58,330 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:08:58,699 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:08:58,705 - INFO - services - User email: martin@example.com
2024-09-16 23:08:58,706 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x793c4b858940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e4b77bfe676ff2192820, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03425798499847588>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03459043099974224>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036388254000485176>]>", "clientId": {"$oid": "66e8e4b77bfe676ff2192820"}}
2024-09-16 23:08:58,707 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x793c4b858940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e4b77bfe676ff2192820, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03425798499847588>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03459043099974224>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036388254000485176>]>", "clientId": {"$oid": "66e8e4b77bfe676ff2192820"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:08:58,957 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e4b77bfe676ff2192820"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"CB8YLlWXSAiXCKc5lw9IYQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726538935, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ND16WQSu8kQjZGwTayr2qdAvAbo=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"martin@example.com\", \"message\": \"Aguante bocaaa\", \"created_at\": {\"$date\": \"2024-09-16T23:08:58.705Z\"}, \"_id\": {\"$oid\": \"66e8e4ba7bfe676ff2192821\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 414949, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:08:59,024 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e4b77bfe676ff2192820"}, "message": "Command succeeded", "durationMS": 66.806, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726538938, \"i\": 11}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726538938, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fOFjq+N1VSMS/czhJ19AkaNKK3I=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726538938, \"i\": 11}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 414949, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:08:59,026 - ERROR - config - Unhandled exception: 1 validation error for SnapResponse
response -> data
  field required (type=value_error.missing)
2024-09-16 23:10:13,244 - INFO - config - FastAPI application is starting...
2024-09-16 23:10:18,448 - INFO - config - Request received
2024-09-16 23:10:18,451 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:10:18,453 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:10:18,784 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:10:18,787 - INFO - services - User email: martin@example.com
2024-09-16 23:10:18,788 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7badfdc60940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e505c81dd89b2ab4d39d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0352171559989074>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03239380800005165>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03655487399919366>]>", "clientId": {"$oid": "66e8e505c81dd89b2ab4d39d"}}
2024-09-16 23:10:18,789 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7badfdc60940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e505c81dd89b2ab4d39d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0352171559989074>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03239380800005165>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03655487399919366>]>", "clientId": {"$oid": "66e8e505c81dd89b2ab4d39d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:10:19,031 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e505c81dd89b2ab4d39d"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2V1QXIslTo+e0n5z7+GTEg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726539013, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jyPeLlA7tZjv1ttf1UKFwblDuZI=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"data\": {\"email\": \"martin@example.com\", \"message\": \"Aguante bocaaa\", \"created_at\": {\"$date\": \"2024-09-16T23:10:18.787Z\"}}, \"_id\": {\"$oid\": \"66e8e50ac81dd89b2ab4d39e\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 415208, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:10:19,072 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e505c81dd89b2ab4d39d"}, "message": "Command succeeded", "durationMS": 40.673, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726539019, \"i\": 3}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726539019, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VRc+xziIIKYWYhd4kSoTsEzyRaY=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726539019, \"i\": 3}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 415208, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:10:19,074 - ERROR - config - Unhandled exception: 1 validation error for SnapResponse
response -> data
  field required (type=value_error.missing)
2024-09-16 23:12:38,957 - INFO - config - FastAPI application is starting...
2024-09-16 23:12:42,691 - INFO - config - Request received
2024-09-16 23:12:42,693 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:12:42,695 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:12:43,042 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:12:43,047 - INFO - services - User email: martin@example.com
2024-09-16 23:12:43,048 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7b1730160940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e59635cc88307d914f04, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03295199799867987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035423687999355025>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03860758700102451>]>", "clientId": {"$oid": "66e8e59635cc88307d914f04"}}
2024-09-16 23:12:43,050 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7b1730160940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e59635cc88307d914f04, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03295199799867987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035423687999355025>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03860758700102451>]>", "clientId": {"$oid": "66e8e59635cc88307d914f04"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:12:43,294 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e59635cc88307d914f04"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"sj6WGuo+SdSLZWY04v4nhA==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726539159, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KnkThMoUVdfXtmEPyg/b85wtZdU=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"martin@example.com\", \"message\": \"Aguante bocaaa\", \"created_at\": {\"$date\": \"2024-09-16T23:12:43.048Z\"}, \"_id\": {\"$oid\": \"66e8e59b35cc88307d914f05\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 414971, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:12:43,339 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e59635cc88307d914f04"}, "message": "Command succeeded", "durationMS": 44.281, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726539163, \"i\": 4}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726539163, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zS8GNAggEiwFg2qE6xW5HJGzFCU=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726539163, \"i\": 4}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 414971, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:27:12,470 - INFO - config - Request received
2024-09-16 23:27:12,707 - INFO - config - Request received
2024-09-16 23:27:45,591 - INFO - config - FastAPI application is starting...
2024-09-16 23:27:48,794 - INFO - config - Request received
2024-09-16 23:27:49,043 - INFO - config - Request received
2024-09-16 23:29:33,264 - INFO - config - Request received
2024-09-16 23:29:33,266 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:29:33,267 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:34:43,622 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 502 None
2024-09-16 23:34:43,661 - WARNING - config - Caught HTTPException: Invalid token
2024-09-16 23:36:47,423 - INFO - config - Request received
2024-09-16 23:36:47,424 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:36:47,426 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:36:47,769 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:36:47,772 - INFO - services - User email: martin@example.com
2024-09-16 23:36:47,772 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea4cb558940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05773757818064266>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04934337035579052>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0520251255965048>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}}
2024-09-16 23:36:47,773 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea4cb558940>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05773757818064266>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04934337035579052>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0520251255965048>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:36:48,466 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jJGpNpUJT5+Zsc+U2aeauw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540606, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"XRAs7Yp7sRlu0MGHEGUHbPHSF80=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"martin@example.com\", \"message\": \"Aguante boo\", \"created_at\": {\"$date\": \"2024-09-16T23:36:47.772Z\"}, \"privacy\": true, \"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 155324914, "operationId": 155324914, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:36:48,511 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command succeeded", "durationMS": 45.549, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726540608, \"i\": 3}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540608, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IK1XwxfMvwtMtu/UQgJJI4Eq9uw=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540608, \"i\": 3}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 155324914, "operationId": 155324914, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,346 - INFO - config - Request received
2024-09-16 23:37:44,348 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:37:44,349 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:37:44,706 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:37:44,711 - INFO - services - User email: martin@example.com
2024-09-16 23:37:44,712 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.06623870087859406>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05833815910934403>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07350584192244936>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}}
2024-09-16 23:37:44,714 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.06623870087859406>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05833815910934403>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07350584192244936>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,715 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jJGpNpUJT5+Zsc+U2aeauw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540656, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QisC1eR/fLWVBtJQ2ciarUF80Bc=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1239036029, "operationId": 1239036029, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,758 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command succeeded", "durationMS": 43.08, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}, \"email\": \"martin@example.com\", \"message\": \"Aguante boo\", \"created_at\": {\"$date\": \"2024-09-16T23:36:47.772Z\"}, \"privacy\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Q0T8oxf+fsdW0NsBLhO5yX62vSc=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1239036029, "operationId": 1239036029, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,761 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea4cb558940>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.06623870087859406>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05833815910934403>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07350584192244936>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}}
2024-09-16 23:37:44,762 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea4cb558940>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66e8e9211fcdebd8d5e1f9fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.06623870087859406>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05833815910934403>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07350584192244936>]>", "clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,764 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jJGpNpUJT5+Zsc+U2aeauw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Q0T8oxf+fsdW0NsBLhO5yX62vSc=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"u\": {\"$set\": {\"message\": \"string\", \"privacy\": true}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1884661237, "operationId": 1884661237, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,807 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8e9211fcdebd8d5e1f9fd"}, "message": "Command succeeded", "durationMS": 43.217999999999996, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 9}}, \"t\": 95}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Q0T8oxf+fsdW0NsBLhO5yX62vSc=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540664, \"i\": 9}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1884661237, "operationId": 1884661237, "driverConnectionId": 1, "serverConnectionId": 415770, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:37:44,809 - ERROR - config - Unhandled exception: 'UpdateResult' object has no attribute 'inserted_id'
2024-09-16 23:38:33,472 - INFO - config - FastAPI application is starting...
2024-09-16 23:38:46,349 - INFO - config - Request received
2024-09-16 23:38:46,351 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:38:46,353 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:38:47,018 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:38:47,025 - INFO - services - User email: martin@example.com
2024-09-16 23:38:47,026 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8eba9d2bbe786e5b0e6eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03761733480023395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036425087200404965>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04895539220015053>]>", "clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}}
2024-09-16 23:38:47,027 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8eba9d2bbe786e5b0e6eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03761733480023395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036425087200404965>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04895539220015053>]>", "clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:38:47,293 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uSIY/E+1StafrKlFp84GMA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540723, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"XtJPpPmk1tboYLZuQtn4iYnzuT0=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 415691, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:38:47,332 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "message": "Command succeeded", "durationMS": 39.064, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}, \"email\": \"martin@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-16T23:36:47.772Z\"}, \"privacy\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"FYCVNiqAlSAX7n/IZHuyov6oPbs=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 415691, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:38:47,334 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79c779d58940>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66e8eba9d2bbe786e5b0e6eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03761733480023395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036425087200404965>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04895539220015053>]>", "clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}}
2024-09-16 23:38:47,335 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79c779d58940>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66e8eba9d2bbe786e5b0e6eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03761733480023395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036425087200404965>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04895539220015053>]>", "clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:38:47,337 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"uSIY/E+1StafrKlFp84GMA==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"FYCVNiqAlSAX7n/IZHuyov6oPbs=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"u\": {\"$set\": {\"message\": \"striasdng\", \"privacy\": true}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 415691, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:38:47,380 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8eba9d2bbe786e5b0e6eb"}, "message": "Command succeeded", "durationMS": 42.878, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 3}}, \"t\": 95}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"FYCVNiqAlSAX7n/IZHuyov6oPbs=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540727, \"i\": 3}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 415691, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:39:14,735 - INFO - config - Request received
2024-09-16 23:39:14,737 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInd5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:39:14,740 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:39:15,112 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 401 None
2024-09-16 23:39:15,118 - WARNING - config - Caught HTTPException: Invalid token
2024-09-16 23:41:26,713 - INFO - config - FastAPI application is starting...
2024-09-16 23:41:33,265 - INFO - config - Request received
2024-09-16 23:41:33,508 - INFO - config - Request received
2024-09-16 23:41:45,722 - INFO - config - Request received
2024-09-16 23:41:45,725 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:41:45,728 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:41:46,098 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:41:46,101 - INFO - services - User email: martin@example.com
2024-09-16 23:41:46,102 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ec56c294c835b7d145af, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03294543599986355>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03610241200149176>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03390761099872179>]>", "clientId": {"$oid": "66e8ec56c294c835b7d145af"}}
2024-09-16 23:41:46,103 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ec56c294c835b7d145af, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03294543599986355>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03610241200149176>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03390761099872179>]>", "clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:41:46,361 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"/wVXop57SziDh7gIQ3a+AQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540897, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7Y4Loy5R2FiF5o0T6RiJyGsakwo=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 415807, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:41:46,398 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "message": "Command succeeded", "durationMS": 36.808, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}, \"email\": \"martin@example.com\", \"message\": \"striasdng\", \"created_at\": {\"$date\": \"2024-09-16T23:36:47.772Z\"}, \"privacy\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6uUgdjxZE3/h5vgMf9m4mTvrmeQ=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 415807, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:41:46,400 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x735281754940>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66e8ec56c294c835b7d145af, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03294543599986355>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03610241200149176>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03390761099872179>]>", "clientId": {"$oid": "66e8ec56c294c835b7d145af"}}
2024-09-16 23:41:46,401 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x735281754940>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66e8ec56c294c835b7d145af, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03294543599986355>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03610241200149176>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03390761099872179>]>", "clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:41:46,402 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "message": "Command started", "command": "{\"delete\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"/wVXop57SziDh7gIQ3a+AQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6uUgdjxZE3/h5vgMf9m4mTvrmeQ=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"deletes\": [{\"q\": {\"_id\": {\"$oid\": \"66e8eb3f1fcdebd8d5e1f9fe\"}}, \"limit\": 1}]}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 415807, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:41:46,443 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ec56c294c835b7d145af"}, "message": "Command succeeded", "durationMS": 40.634, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 3}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6uUgdjxZE3/h5vgMf9m4mTvrmeQ=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726540906, \"i\": 3}}}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 415807, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:09,927 - INFO - config - FastAPI application is starting...
2024-09-16 23:45:25,405 - INFO - config - Request received
2024-09-16 23:45:25,554 - INFO - config - Request received
2024-09-16 23:45:31,227 - INFO - config - Request received
2024-09-16 23:45:31,228 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:45:31,230 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:45:32,036 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:45:32,042 - INFO - services - User email: martin@example.com
2024-09-16 23:45:32,043 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035942491760142734>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03485029156021483>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03498542748035107>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}}
2024-09-16 23:45:32,045 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035942491760142734>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03485029156021483>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03498542748035107>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:32,286 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"martin@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"mjee1jDPTIiCgNC+FpLoiw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541130, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"kR0KyOCxH3HVjDoP/UY0wzw09OQ=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:32,322 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command succeeded", "durationMS": 36.637, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541132, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"e2UcNhofxMWrbq/q/S5ShnblL2U=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726541132, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:52,161 - INFO - config - Request received
2024-09-16 23:45:52,162 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:45:52,164 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:45:52,492 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:45:52,498 - INFO - services - User email: martin@example.com
2024-09-16 23:45:52,500 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7d3d7ea589d0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499983360650076>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034589742558362196>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03481822630738898>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}}
2024-09-16 23:45:52,501 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7d3d7ea589d0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499983360650076>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034589742558362196>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03481822630738898>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:52,504 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"mjee1jDPTIiCgNC+FpLoiw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541150, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fL52F0FFU/j/+cpBKrZG/2gGJAU=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"martin@example.com\", \"message\": \"Aguante boca\", \"created_at\": {\"$date\": \"2024-09-16T23:45:52.499Z\"}, \"privacy\": true, \"_id\": {\"$oid\": \"66e8ed60a02fa2f704683ab5\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 861021530, "operationId": 861021530, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:52,548 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command succeeded", "durationMS": 44.079, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726541152, \"i\": 5}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541152, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"u5o9BZhy5d3l3bay0VnoFoc6uqI=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726541152, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 861021530, "operationId": 861021530, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:58,121 - INFO - config - Request received
2024-09-16 23:45:58,124 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:45:58,125 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:45:58,451 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:45:58,456 - INFO - services - User email: martin@example.com
2024-09-16 23:45:58,456 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7d3d7ea589d0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499983360650076>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034589742558362196>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03481822630738898>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}}
2024-09-16 23:45:58,458 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7d3d7ea589d0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499983360650076>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034589742558362196>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03481822630738898>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:58,459 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"mjee1jDPTIiCgNC+FpLoiw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541152, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"u5o9BZhy5d3l3bay0VnoFoc6uqI=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"martin@example.com\", \"message\": \"Aguante river\", \"created_at\": {\"$date\": \"2024-09-16T23:45:58.456Z\"}, \"privacy\": true, \"_id\": {\"$oid\": \"66e8ed66a02fa2f704683ab6\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 278722862, "operationId": 278722862, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:45:58,504 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command succeeded", "durationMS": 44.712, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1726541158, \"i\": 6}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541158, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"HmQl9kmrY3FMmyzNw+KSYxvwUco=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726541158, \"i\": 6}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 278722862, "operationId": 278722862, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:46:05,397 - INFO - config - Request received
2024-09-16 23:46:05,398 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:46:05,399 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:46:05,795 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:46:05,801 - INFO - services - User email: martin@example.com
2024-09-16 23:46:05,802 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03490557848532102>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03545955084642454>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03580342504611356>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}}
2024-09-16 23:46:05,804 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ed35a02fa2f704683ab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03490557848532102>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03545955084642454>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03580342504611356>]>", "clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:46:05,806 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"martin@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"mjee1jDPTIiCgNC+FpLoiw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541160, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KyvkhhQ4YL7vOKGCItlwFerANrw=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:46:05,840 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ed35a02fa2f704683ab4"}, "message": "Command succeeded", "durationMS": 34.527, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66e8ed66a02fa2f704683ab6\"}, \"email\": \"martin@example.com\", \"message\": \"Aguante river\", \"created_at\": {\"$date\": \"2024-09-16T23:45:58.456Z\"}, \"privacy\": true}, {\"_id\": {\"$oid\": \"66e8ed60a02fa2f704683ab5\"}, \"email\": \"martin@example.com\", \"message\": \"Aguante boca\", \"created_at\": {\"$date\": \"2024-09-16T23:45:52.499Z\"}, \"privacy\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541165, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xNKPcFl3nTnGwt+gKEl7AZ7s0ok=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726541165, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 415905, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:46:05,843 - ERROR - config - Unhandled exception: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2024-09-16 23:51:05,668 - INFO - config - FastAPI application is starting...
2024-09-16 23:51:12,335 - INFO - config - Request received
2024-09-16 23:51:12,336 - INFO - services - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6Im1hcnRpbkBleGFtcGxlLmNvbSIsImV4cCI6MTcyNjYyNDk1NiwiaWF0IjoxNzI2NTM4NTU2fQ.Mcr3CJ00VXrzQGGX5bOtAiJYJKDee-6VTso3u7TZBb8
2024-09-16 23:51:12,339 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-16 23:51:13,685 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-16 23:51:13,690 - INFO - services - User email: martin@example.com
2024-09-16 23:51:13,691 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ee99d8507e575c832fed, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03671030000077735>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03931750700030534>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036467223000727245>]>", "clientId": {"$oid": "66e8ee99d8507e575c832fed"}}
2024-09-16 23:51:13,694 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66e8ee99d8507e575c832fed, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03671030000077735>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03931750700030534>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036467223000727245>]>", "clientId": {"$oid": "66e8ee99d8507e575c832fed"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:51:13,960 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ee99d8507e575c832fed"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"martin@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"O3gtKRzDR0GgSSLh5nGq/w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541466, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8ZLh9dSotp98nAHToWG2hQ5NNEI=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 416016, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-16 23:51:13,996 - DEBUG - pymongo.command - {"clientId": {"$oid": "66e8ee99d8507e575c832fed"}, "message": "Command succeeded", "durationMS": 36.943999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66e8ed66a02fa2f704683ab6\"}, \"email\": \"martin@example.com\", \"message\": \"Aguante river\", \"created_at\": {\"$date\": \"2024-09-16T23:45:58.456Z\"}, \"privacy\": true}, {\"_id\": {\"$oid\": \"66e8ed60a02fa2f704683ab5\"}, \"email\": \"martin@example.com\", \"message\": \"Aguante boca\", \"created_at\": {\"$date\": \"2024-09-16T23:45:52.499Z\"}, \"privacy\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1726541473, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"pGeNU8/EcbDwmi5cuoznWUkWsx4=\", \"subType\": \"00\"}}, \"keyId\": 7351836258051555336}}, \"operationTime\": {\"$timestamp\": {\"t\": 1726541473, \"i\": 12}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 416016, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:46:03,453 - INFO - config - FastAPI application is starting...
2024-09-29 14:46:05,038 - INFO - config - Request received
2024-09-29 14:46:05,106 - INFO - config - Request received
2024-09-29 14:46:07,307 - INFO - config - Request received
2024-09-29 14:46:07,810 - INFO - config - Request received
2024-09-29 14:46:18,608 - INFO - config - Request received
2024-09-29 14:46:18,609 - INFO - authentication - Getting user email from token None
2024-09-29 14:46:18,612 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:46:23,924 - INFO - config - Request received
2024-09-29 14:46:24,093 - INFO - config - Request received
2024-09-29 14:47:40,149 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 400 None
2024-09-29 14:47:40,154 - WARNING - config - Caught HTTPException: Invalid token
2024-09-29 14:47:50,436 - INFO - config - Request received
2024-09-29 14:47:50,437 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:47:50,438 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:47:50,759 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:47:50,766 - INFO - authentication - User email: test@example.com
2024-09-29 14:47:50,770 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033435659951164556>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03426629537833644>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035096982653633924>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:47:50,772 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033435659951164556>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03426629537833644>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035096982653633924>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:47:51,470 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632063, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"m6q+Oi/E1JKfM6SlJq94/DaYhYE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 859484421, "operationId": 859484421, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:47:51,505 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 34.382000000000005, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632071, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dofUPhmjRgNX6UsSJO24RXAf9kE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632071, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 859484421, "operationId": 859484421, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:00,358 - INFO - config - Request received
2024-09-29 14:48:00,360 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:48:00,362 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:48:00,694 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:48:00,702 - INFO - authentication - User email: test@example.com
2024-09-29 14:48:00,707 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03328312896095286>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03424129510261113>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035002196523072106>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:00,708 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03328312896095286>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03424129510261113>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035002196523072106>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:00,709 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632074, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dKrgrHaIke5h+B/kZZ5LJsRpXy0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:00,772 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 62.739000000000004, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727632080, \"i\": 6}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632080, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IPNfOjgZcSHRFUYsVz6QKSNnras=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632080, \"i\": 6}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:04,880 - INFO - config - Request received
2024-09-29 14:48:04,881 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:48:04,882 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:48:05,179 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:48:05,190 - INFO - authentication - User email: test@example.com
2024-09-29 14:48:05,196 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033367981769214246>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03438262748272271>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034917231618469276>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:05,198 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033367981769214246>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03438262748272271>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034917231618469276>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:05,201 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632084, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"46U0A3e6/suMRmEzCSh/4pkbVDE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:05,237 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 36.435, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}, \"email\": \"test@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632085, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+JwSGlc+yvacBRhrt2g+W37Mvuk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632085, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:17,786 - INFO - config - Request received
2024-09-29 14:48:17,787 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:48:17,789 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:48:18,148 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:48:18,155 - INFO - authentication - User email: test@example.com
2024-09-29 14:48:18,160 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03320296741488612>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03430958458611297>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034765172494557024>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:18,162 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03320296741488612>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03430958458611297>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034765172494557024>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:18,164 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632094, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7DYx0n84ohQSHjMUeX0Dn+f8bkw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:18,202 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 38.32, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}, \"email\": \"test@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632098, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zWp2A6bUGzosNxyvbNhJYlafDOA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632098, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,227 - INFO - config - Request received
2024-09-29 14:48:52,228 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:48:52,230 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:48:52,546 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:48:52,552 - INFO - authentication - User email: test@example.com
2024-09-29 14:48:52,555 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033276282547954436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0344119735801222>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465352344511371>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:52,556 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033276282547954436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0344119735801222>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465352344511371>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,556 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632124, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hgU4rPJZ1TsAgn4RwIKn2zM9cY4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,591 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 34.505, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}, \"email\": \"test@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zziw8ep6M6Evq55/eBYNgrF2j/0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,592 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033276282547954436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0344119735801222>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465352344511371>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:52,592 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "update", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033276282547954436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0344119735801222>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465352344511371>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,593 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zziw8ep6M6Evq55/eBYNgrF2j/0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}}, \"u\": {\"$set\": {\"message\": \"chau martinez\", \"is_private\": true}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:52,640 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 47.321000000000005, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 8}}, \"t\": 95}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zziw8ep6M6Evq55/eBYNgrF2j/0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632132, \"i\": 8}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:56,967 - INFO - config - Request received
2024-09-29 14:48:56,969 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:48:56,972 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:48:57,789 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:48:57,791 - INFO - authentication - User email: test@example.com
2024-09-29 14:48:57,792 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03339129683855244>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03445075406421155>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465008795633239>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:48:57,793 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03339129683855244>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03445075406421155>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03465008795633239>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:57,793 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632134, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rLoNukCYpGaakajas7h/yp5b3Hk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:48:57,827 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 33.817, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}, \"email\": \"test@example.com\", \"message\": \"chau martinez\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632137, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jDIOoo9M8C/JriCAdaKuK2HJSyc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632137, \"i\": 12}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:13,890 - INFO - config - Request received
2024-09-29 14:49:13,891 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:49:13,892 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:49:14,201 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:49:14,207 - INFO - authentication - User email: test@example.com
2024-09-29 14:49:14,211 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:49:14,212 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:14,213 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632153, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zFY2Q9VcFhtCVNXempK1sppgNRM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:14,248 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 34.765, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}, \"email\": \"test@example.com\", \"message\": \"chau martinez\", \"created_at\": {\"$date\": \"2024-09-29T14:48:00.706Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RIELMtsW8dlCC+jwo4r+nHGvbME=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:14,251 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:49:14,253 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7f0bd6fb8280>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:14,255 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"delete\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RIELMtsW8dlCC+jwo4r+nHGvbME=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"deletes\": [{\"q\": {\"_id\": {\"$oid\": \"66f992d004f13a070aaf60e9\"}}, \"limit\": 1}]}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 1998898814, "operationId": 1998898814, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:14,303 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 48.689, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 3}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RIELMtsW8dlCC+jwo4r+nHGvbME=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 3}}}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 1998898814, "operationId": 1998898814, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:16,927 - INFO - config - Request received
2024-09-29 14:49:16,928 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 14:49:16,929 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 14:49:17,237 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 14:49:17,248 - INFO - authentication - User email: test@example.com
2024-09-29 14:49:17,252 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 14:49:17,254 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335359633682436>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034209571000829976>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034377065532723565>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:17,257 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632154, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RIELMtsW8dlCC+jwo4r+nHGvbME=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1374344043, "operationId": 1374344043, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 14:49:17,294 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 38.034, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727632157, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dDYiftMf4ix/Yw4toR4cWWQeAdM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727632157, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1374344043, "operationId": 1374344043, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 15:16:40,539 - INFO - config - Request received
2024-09-29 15:16:40,563 - INFO - authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MTg0NjEsImlhdCI6MTcyNzYzMjA2MX0.TLVLl6QAhkRItgrOT-QMM4i9fHTH130QKy7haIfOO_E
2024-09-29 15:16:40,571 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:18:02,310 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:18:02,315 - INFO - authentication - User email: test@example.com
2024-09-29 15:18:02,318 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03316154716435787>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034348590277846036>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03367485904043049>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}}
2024-09-29 15:18:02,319 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f9925b04f13a070aaf60e8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03316154716435787>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034348590277846036>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03367485904043049>]>", "clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 15:18:02,320 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"u6ZMvW5JQVuI0vmzauhSxQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727633875, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"S7IVFQe8dOB5H8P6vb7xmn1lPHs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1899058025, "operationId": 1899058025, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-09-29 15:18:02,355 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f9925b04f13a070aaf60e8"}, "message": "Command succeeded", "durationMS": 34.686, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727633882, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ewYq81WiCeSQcP941k3abFPvskQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727633882, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1899058025, "operationId": 1899058025, "driverConnectionId": 1, "serverConnectionId": 663746, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
