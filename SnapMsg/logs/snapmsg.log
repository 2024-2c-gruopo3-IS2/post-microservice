
2024-09-29 15:27:33,868 - INFO - app.config - FastAPI application is starting...
2024-09-29 15:27:36,638 - INFO - app.config - Request received
2024-09-29 15:27:39,507 - INFO - app.config - Request received
2024-09-29 15:27:39,657 - INFO - app.config - Request received
2024-09-29 15:28:57,941 - INFO - app.config - Request received
2024-09-29 15:28:57,943 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:28:57,947 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:28:58,775 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:28:58,779 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:28:58,782 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0029571256041780497>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:28:58,783 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0029571256041780497>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:28:58,829 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:28:58.781Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66f99c6adcf674a1a9c6e2ef\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:28:58,833 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 4.897, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:21,843 - INFO - app.config - Request received
2024-09-29 15:37:21,844 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:37:21,846 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:37:22,797 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:37:22,805 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:37:22,807 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013956819726836508>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:37:22,808 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013956819726836508>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:22,809 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test222asd@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:22,811 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 2.248, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f99c6adcf674a1a9c6e2ef\"}, \"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:28:58.781Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:35,820 - INFO - app.config - Request received
2024-09-29 15:51:35,822 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:51:35,824 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:51:36,256 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:51:36,261 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:51:36,266 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009409104198600595>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:51:36,266 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009409104198600595>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:36,273 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test222asd@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 150122846, "operationId": 150122846, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:36,274 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 1.474, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 150122846, "operationId": 150122846, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:52,765 - INFO - app.config - Request received
2024-09-29 15:51:52,766 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:51:52,769 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:51:53,166 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:51:53,171 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:51:53,174 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011085417094475903>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:51:53,175 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011085417094475903>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:53,175 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:51:53.173Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 990892921, "operationId": 990892921, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:53,202 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 26.955, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 990892921, "operationId": 990892921, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,499 - INFO - app.config - Request received
2024-09-29 15:52:08,500 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:52:08,505 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:52:08,864 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:52:08,871 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:52:08,873 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:52:08,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,875 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1622597488, "operationId": 1622597488, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,878 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 2.492, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}, \"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:51:53.173Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1622597488, "operationId": 1622597488, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,881 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:52:08,883 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,885 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"delete\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"deletes\": [{\"q\": {\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}, \"limit\": 1}]}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 111537764, "operationId": 111537764, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,896 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 11.758, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 111537764, "operationId": 111537764, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:56:02,511 - INFO - app.config - Request received
2024-09-29 15:56:02,512 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:56:02,514 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:56:03,026 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:56:03,029 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:56:03,031 - ERROR - app.config - Unhandled exception: '66f9a1c9dcf674a1a9c6y2f0' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
