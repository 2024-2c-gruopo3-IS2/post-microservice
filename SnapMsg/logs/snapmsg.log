
2024-09-29 15:27:33,868 - INFO - app.config - FastAPI application is starting...
2024-09-29 15:27:36,638 - INFO - app.config - Request received
2024-09-29 15:27:39,507 - INFO - app.config - Request received
2024-09-29 15:27:39,657 - INFO - app.config - Request received
2024-09-29 15:28:57,941 - INFO - app.config - Request received
2024-09-29 15:28:57,943 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:28:57,947 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:28:58,775 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:28:58,779 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:28:58,782 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0029571256041780497>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:28:58,783 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0029571256041780497>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:28:58,829 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:28:58.781Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66f99c6adcf674a1a9c6e2ef\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:28:58,833 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 4.897, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:21,843 - INFO - app.config - Request received
2024-09-29 15:37:21,844 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:37:21,846 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:37:22,797 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:37:22,805 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:37:22,807 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013956819726836508>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:37:22,808 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0013956819726836508>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:22,809 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test222asd@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:37:22,811 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 2.248, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f99c6adcf674a1a9c6e2ef\"}, \"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:28:58.781Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 6, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:35,820 - INFO - app.config - Request received
2024-09-29 15:51:35,822 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:51:35,824 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:51:36,256 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:51:36,261 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:51:36,266 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009409104198600595>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:51:36,266 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0009409104198600595>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:36,273 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test222asd@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 150122846, "operationId": 150122846, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:36,274 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 1.474, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 150122846, "operationId": 150122846, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:52,765 - INFO - app.config - Request received
2024-09-29 15:51:52,766 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:51:52,769 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:51:53,166 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:51:53,171 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:51:53,174 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011085417094475903>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:51:53,175 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0011085417094475903>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:53,175 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:51:53.173Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 990892921, "operationId": 990892921, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:51:53,202 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 26.955, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 990892921, "operationId": 990892921, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,499 - INFO - app.config - Request received
2024-09-29 15:52:08,500 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:52:08,505 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:52:08,864 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:52:08,871 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:52:08,873 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:52:08,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,875 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1622597488, "operationId": 1622597488, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,878 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 2.492, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}, \"email\": \"test222asd@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-09-29T15:51:53.173Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1622597488, "operationId": 1622597488, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,881 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}}
2024-09-29 15:52:08,883 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e96f23c83a0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 66f99c15dcf674a1a9c6e2ee, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0010659710141261514>]>", "clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,885 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command started", "command": "{\"delete\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"FBHEsW9XS0WF9XMGn3SiHA==\", \"subType\": \"04\"}}}, \"$db\": \"twitsnaps\", \"deletes\": [{\"q\": {\"_id\": {\"$oid\": \"66f9a1c9dcf674a1a9c6e2f0\"}}, \"limit\": 1}]}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 111537764, "operationId": 111537764, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:52:08,896 - DEBUG - pymongo.command - {"clientId": {"$oid": "66f99c15dcf674a1a9c6e2ee"}, "message": "Command succeeded", "durationMS": 11.758, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 111537764, "operationId": 111537764, "driverConnectionId": 2, "serverConnectionId": 36, "serverHost": "localhost", "serverPort": 27017}
2024-09-29 15:56:02,511 - INFO - app.config - Request received
2024-09-29 15:56:02,512 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3QyMjJhc2RAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjc3MjA5MjQsImlhdCI6MTcyNzYzNDUyNH0.MO3KwTfAX6GoOZZWYFoIH-YThdl-khEJYl5a-sG_wZs
2024-09-29 15:56:02,514 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-09-29 15:56:03,026 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-09-29 15:56:03,029 - INFO - app.authentication - User email: test222asd@example.com
2024-09-29 15:56:03,031 - ERROR - app.config - Unhandled exception: '66f9a1c9dcf674a1a9c6y2f0' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-01 20:15:49,310 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:15:49,314 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:15:49,315 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:15:49,403 - INFO - app.config - FastAPI application is starting...
2024-10-01 20:15:49,615 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:15:49,659 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:15:49,701 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:16:19,091 - INFO - app.config - Request received
2024-10-01 20:16:19,343 - INFO - app.config - Request received
2024-10-01 20:16:28,997 - INFO - app.config - Request received
2024-10-01 20:16:29,003 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc82a587a4dc9c03d10764, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04459999999962747>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04891999999061227>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04699999990127981>]>", "clientId": {"$oid": "66fc82a587a4dc9c03d10764"}}
2024-10-01 20:16:29,007 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc82a587a4dc9c03d10764, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04459999999962747>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04891999999061227>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04699999990127981>]>", "clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:16:29,009 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:16:29,010 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 20:16:29,292 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14099999982863665}
2024-10-01 20:16:29,293 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.2809999999590218}
2024-10-01 20:16:29,294 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"AsMwRK0JSZ2gvprmPO+adA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727824580, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5eMxLqKbQKMIu3h0/VmlfPJwgeY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 706943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:16:29,337 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Command succeeded", "durationMS": 43.05, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727824589, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"TbbQnqO/dRYP4yfhGHxg+44BTBY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727824589, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 706943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:16:29,339 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc82a587a4dc9c03d10764"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 20:16:29,341 - WARNING - app.config - Caught HTTPException: No snaps found.
2024-10-01 20:20:17,694 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:17,697 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:17,699 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:17,741 - INFO - app.config - FastAPI application is starting...
2024-10-01 20:20:17,932 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:17,993 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:18,096 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:41,714 - INFO - app.config - Request received
2024-10-01 20:20:41,829 - INFO - app.config - Request received
2024-10-01 20:20:52,376 - INFO - app.config - Request received
2024-10-01 20:20:52,379 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc83b12646d0e9b9780b3c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.046488000018522144>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05000000004656613>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.046999999983236194>]>", "clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}}
2024-10-01 20:20:52,380 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc83b12646d0e9b9780b3c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.046488000018522144>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05000000004656613>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.046999999983236194>]>", "clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:52,381 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:52,382 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 20:20:52,659 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14099999982863665}
2024-10-01 20:20:52,662 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.2809999999590218}
2024-10-01 20:20:52,663 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"fR81DZczRRqWOm02eq70AA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727824848, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jVN9q88W6SOY8/7Ymn4pWecqld0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 707851, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:52,712 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Command succeeded", "durationMS": 48.332, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727824853, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qtBML78pe0qvw5MR49n8+fVt83o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727824853, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 707851, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 20:20:52,714 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc83b12646d0e9b9780b3c"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 20:20:52,716 - WARNING - app.config - Caught HTTPException: No snaps found.
2024-10-01 21:33:48,527 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:48,531 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:48,532 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:48,579 - INFO - app.config - FastAPI application is starting...
2024-10-01 21:33:48,982 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:49,032 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:49,138 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:33:53,965 - INFO - app.config - Request received
2024-10-01 21:33:54,170 - INFO - app.config - Request received
2024-10-01 21:34:10,643 - INFO - app.config - Request received
2024-10-01 21:34:10,647 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc94ecbbaa22ab5e3423a9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0470000000204891>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044439999964088206>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04380000009201467>]>", "clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}}
2024-10-01 21:34:10,650 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fc94ecbbaa22ab5e3423a9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0470000000204891>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044439999964088206>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04380000009201467>]>", "clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:34:10,653 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:34:10,654 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 21:34:10,933 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.125}
2024-10-01 21:34:10,935 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.28199999989010394}
2024-10-01 21:34:10,936 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": \"#fun\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ujYW/A4nRM2QDwgf5EMm6Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727829249, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"lHcxSzz17rEuXJkqebQ2c1JbEWE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 708421, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:34:10,992 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Command succeeded", "durationMS": 55.84, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727829251, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SkOLXuHOwMDDxVA2JfOcowTljng=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727829251, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 708421, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-01 21:34:10,994 - DEBUG - pymongo.connection - {"clientId": {"$oid": "66fc94ecbbaa22ab5e3423a9"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-01 21:34:10,995 - WARNING - app.config - Caught HTTPException: No snaps found with that hashtag.
2024-10-02 21:05:27,880 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:05:29,682 - INFO - app.config - Request received
2024-10-02 21:05:32,178 - INFO - app.config - Request received
2024-10-02 21:05:32,304 - INFO - app.config - Request received
2024-10-02 21:05:43,654 - INFO - app.config - Request received
2024-10-02 21:05:43,657 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fddfc73440c76c8259caa3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034146419599983345>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05285326299999725>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03453613559995575>]>", "clientId": {"$oid": "66fddfc73440c76c8259caa3"}}
2024-10-02 21:05:43,658 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fddfc73440c76c8259caa3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034146419599983345>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.05285326299999725>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03453613559995575>]>", "clientId": {"$oid": "66fddfc73440c76c8259caa3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:05:43,880 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fddfc73440c76c8259caa3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fdb7f9d6152b5f690f2256\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"n8yhsu/cRYG0xp3xiswxmw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727913938, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"efiWPcDJ8yp6pQGsdjXD7Z7PCAk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 733904, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:05:43,916 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fddfc73440c76c8259caa3"}, "message": "Command succeeded", "durationMS": 37.248000000000005, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727913943, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wQW1HlUDUEu+WyZYfLkFkQE1bI0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727913943, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 733904, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:05:43,919 - WARNING - app.config - Caught HTTPException: Snap not found.
2024-10-02 21:09:05,165 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:09:09,524 - INFO - app.config - Request received
2024-10-02 21:09:09,526 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fde0a1ab1b69affa023fe9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032681356000011874>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03359900200030097>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529645899971001>]>", "clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}}
2024-10-02 21:09:09,527 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fde0a1ab1b69affa023fe9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032681356000011874>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03359900200030097>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529645899971001>]>", "clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:09,741 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fdb7f9d6152b5f690f2256\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"B8iIzfDuS9iMQn7o1pDIRw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914145, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"tg+cMX+10h2xV0k7xhztbPqVJIE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 733989, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:09,775 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "message": "Command succeeded", "durationMS": 34.381, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914149, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"N1gTsaHt84UX9oULc628VlbJUXg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914149, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 733989, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:09,776 - WARNING - app.config - Caught HTTPException: Snap not found.
2024-10-02 21:09:12,633 - INFO - app.config - Request received
2024-10-02 21:09:12,634 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fde0a1ab1b69affa023fe9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032681356000011874>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03359900200030097>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529645899971001>]>", "clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}}
2024-10-02 21:09:12,635 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66fde0a1ab1b69affa023fe9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032681356000011874>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03359900200030097>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529645899971001>]>", "clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:12,635 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fdb7f9d6152b5f690f2256\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"B8iIzfDuS9iMQn7o1pDIRw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914149, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"N1gTsaHt84UX9oULc628VlbJUXg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 733989, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:12,668 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0a1ab1b69affa023fe9"}, "message": "Command succeeded", "durationMS": 33.513, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914152, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"i5BgnjP8iBJfHnMLkqPp4qTgaoY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914152, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 733989, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:09:12,671 - WARNING - app.config - Caught HTTPException: Snap not found.
2024-10-02 21:10:17,659 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:14:44,828 - INFO - app.config - Request received
2024-10-02 21:14:44,830 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:14:44,837 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:17:06,466 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:17:06,470 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:17:06,475 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7cab6e06f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde0e9ceea0f9f5542465c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03281132814073576>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03570661260581424>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0344582825528009>]>", "clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}}
2024-10-02 21:17:06,475 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7cab6e06f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde0e9ceea0f9f5542465c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03281132814073576>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03570661260581424>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0344582825528009>]>", "clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:07,035 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zF8LD217S1Oi2eYXUFLssg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914618, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IifMN997l+YNhTGij0cTePh7Lm8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:17:06.474Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde282ceea0f9f5542465d\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1255179497, "operationId": 1255179497, "driverConnectionId": 1, "serverConnectionId": 733793, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:07,121 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "message": "Command succeeded", "durationMS": 86.105, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914627, \"i\": 5}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914627, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OSzuYFk0GPVVFFYU0rbJ2Bt9jgI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914627, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1255179497, "operationId": 1255179497, "driverConnectionId": 1, "serverConnectionId": 733793, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:14,103 - INFO - app.config - Request received
2024-10-02 21:17:14,105 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:17:14,106 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:17:14,465 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:17:14,469 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:17:14,471 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7cab6e06f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde0e9ceea0f9f5542465c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032911235312540414>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035278303884723465>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034477203242200966>]>", "clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}}
2024-10-02 21:17:14,471 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7cab6e06f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde0e9ceea0f9f5542465c, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032911235312540414>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035278303884723465>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034477203242200966>]>", "clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:14,472 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zF8LD217S1Oi2eYXUFLssg==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914628, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"z5KH8F5ieo+afVSsneVxzS4lPqw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:17:14.470Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde28aceea0f9f5542465e\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 269455306, "operationId": 269455306, "driverConnectionId": 1, "serverConnectionId": 733793, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:14,512 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde0e9ceea0f9f5542465c"}, "message": "Command succeeded", "durationMS": 40.061, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914634, \"i\": 6}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914634, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zjwBJpnRe47slmZ3MxMEX30OaHM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914634, \"i\": 6}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 269455306, "operationId": 269455306, "driverConnectionId": 1, "serverConnectionId": 733793, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:17:39,808 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:18:05,626 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:19:48,881 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:19:50,835 - INFO - app.config - Request received
2024-10-02 21:19:54,121 - INFO - app.config - Request received
2024-10-02 21:19:54,243 - INFO - app.config - Request received
2024-10-02 21:20:06,381 - INFO - app.config - Request received
2024-10-02 21:20:06,383 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:20:06,386 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:20:06,904 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:20:06,911 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:20:06,922 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034128566999788744>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033816843600197904>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040489669199996574>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}}
2024-10-02 21:20:06,926 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034128566999788744>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033816843600197904>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040489669199996574>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:07,161 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"i3UbTJ6GQ6GNI8ZcCAjphg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914799, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zJKQjEhqTPZUXzkK0dP0+8P5/iQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:20:06.921Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde33674cc08dae1a92836\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:07,229 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command succeeded", "durationMS": 67.385, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914807, \"i\": 2}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914807, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jcR54KOExJdJ4Nk6TDoThesBFTM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914807, \"i\": 2}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:11,890 - INFO - app.config - Request received
2024-10-02 21:20:11,892 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:20:11,893 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:20:12,247 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:20:12,255 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:20:12,259 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}}
2024-10-02 21:20:12,260 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:12,262 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"i3UbTJ6GQ6GNI8ZcCAjphg==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914809, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"vyDLZy2vprNdKdebhM+aDlPttC0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:20:12.258Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde33c74cc08dae1a92837\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:12,303 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command succeeded", "durationMS": 40.483, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 4}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5KO2b0JAb80qhjv01WHUZ/7ARak=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 4}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:12,544 - INFO - app.config - Request received
2024-10-02 21:20:12,545 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:20:12,546 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:20:12,876 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:20:12,885 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:20:12,892 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}}
2024-10-02 21:20:12,894 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:12,895 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"i3UbTJ6GQ6GNI8ZcCAjphg==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5KO2b0JAb80qhjv01WHUZ/7ARak=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:20:12.891Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde33c74cc08dae1a92838\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:12,937 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command succeeded", "durationMS": 41.861000000000004, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 10}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5KO2b0JAb80qhjv01WHUZ/7ARak=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 10}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:13,315 - INFO - app.config - Request received
2024-10-02 21:20:13,316 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:20:13,317 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:20:13,636 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:20:13,643 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:20:13,647 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}}
2024-10-02 21:20:13,649 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x751565167910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde32474cc08dae1a92835, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03377508919982574>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.033599703280178805>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039096187760023896>]>", "clientId": {"$oid": "66fde32474cc08dae1a92835"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:13,650 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"i3UbTJ6GQ6GNI8ZcCAjphg==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914812, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5KO2b0JAb80qhjv01WHUZ/7ARak=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:20:13.646Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde33d74cc08dae1a92839\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:20:13,704 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde32474cc08dae1a92835"}, "message": "Command succeeded", "durationMS": 53.256, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727914813, \"i\": 7}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727914813, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dZzPSRLaKuwA3mp7wJTLwy+mLDI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727914813, \"i\": 7}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 734097, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:24:51,068 - INFO - app.config - FastAPI application is starting...
2024-10-02 21:25:01,834 - INFO - app.config - Request received
2024-10-02 21:25:05,405 - INFO - app.config - Request received
2024-10-02 21:25:05,641 - INFO - app.config - Request received
2024-10-02 21:25:13,675 - INFO - app.config - Request received
2024-10-02 21:25:13,677 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:25:13,678 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:25:14,097 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:25:14,101 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:25:14,104 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}}
2024-10-02 21:25:14,105 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:14,322 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q2KcZPA0S+C+C4550guaZw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915111, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qiqR6JNJ3ex15d40+ah5LyrUVJA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:14,390 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command succeeded", "durationMS": 67.448, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727915114, \"i\": 5}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915114, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9TmsOWNdBsmcaBYuphcCynNz91U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727915114, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:17,226 - INFO - app.config - Request received
2024-10-02 21:25:17,228 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:25:17,229 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:25:17,518 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:25:17,522 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:25:17,523 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}}
2024-10-02 21:25:17,524 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:17,525 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q2KcZPA0S+C+C4550guaZw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915114, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9TmsOWNdBsmcaBYuphcCynNz91U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:17.523Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:17,592 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command succeeded", "durationMS": 67.782, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727915117, \"i\": 9}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915117, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LJvOk66dX4uw4hTKdOrL5ICZLZs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727915117, \"i\": 9}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:18,098 - INFO - app.config - Request received
2024-10-02 21:25:18,099 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:25:18,100 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:25:18,455 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:25:18,459 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:25:18,461 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}}
2024-10-02 21:25:18,462 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:18,463 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q2KcZPA0S+C+C4550guaZw==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915117, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LJvOk66dX4uw4hTKdOrL5ICZLZs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:18,504 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command succeeded", "durationMS": 41.001000000000005, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727915118, \"i\": 6}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915118, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9NdenLcE8pAwTkByFqWB/SL1uJ4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727915118, \"i\": 6}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:18,947 - INFO - app.config - Request received
2024-10-02 21:25:18,948 - INFO - app.authentication - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25zY2hpQGV4YW1wbGUuY29tIiwiZXhwIjoxNzI3OTk4MjQwLCJpYXQiOjE3Mjc5MTE4NDB9.ySgZDEU3Red5Sjk3tUOixw0P-65xGnn4Zpf7Anw3CmU
2024-10-02 21:25:18,950 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-02 21:25:19,281 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-02 21:25:19,284 - INFO - app.authentication - User email: brandonschi@example.com
2024-10-02 21:25:19,285 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}}
2024-10-02 21:25:19,286 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7ea3e4c6f910>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66fde45373ce2731eb8de639, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034542877759849946>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03370209063996299>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033983806320011356>]>", "clientId": {"$oid": "66fde45373ce2731eb8de639"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:19,286 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Q2KcZPA0S+C+C4550guaZw==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915118, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9NdenLcE8pAwTkByFqWB/SL1uJ4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-02 21:25:19,325 - DEBUG - pymongo.command - {"clientId": {"$oid": "66fde45373ce2731eb8de639"}, "message": "Command succeeded", "durationMS": 38.906000000000006, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff000000000000005f\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1727915119, \"i\": 5}}, \"t\": 95}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1727915119, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IufN8f/bST68ohp9w6hD8HaPjZ0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1727915119, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 733943, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,135 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,137 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,138 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,200 - INFO - app.config - FastAPI application is starting...
2024-10-08 17:12:31,393 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,485 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:31,569 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705922e6b49d059f02fa110"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:12:49,570 - INFO - app.config - Request received
2024-10-08 17:12:49,973 - INFO - app.config - Request received
2024-10-08 17:32:11,931 - INFO - app.config - Request received
2024-10-08 17:32:11,953 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-08 17:42:14,236 - INFO - app.config - Request received
2024-10-08 17:42:14,241 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-08 17:43:38,211 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:38,216 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:38,219 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:38,266 - INFO - app.config - FastAPI application is starting...
2024-10-08 17:43:38,546 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:38,610 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:38,660 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6705997a6b3641d19503b0a5"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:43:43,492 - INFO - app.config - Request received
2024-10-08 17:43:43,715 - INFO - app.config - Request received
2024-10-08 17:44:01,215 - INFO - app.config - Request received
2024-10-08 17:44:01,219 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-08 17:48:29,663 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:29,666 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:29,668 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:29,734 - INFO - app.config - FastAPI application is starting...
2024-10-08 17:48:29,915 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:29,992 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:30,058 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059a9d19fae4bd4a1f918e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:48:34,703 - INFO - app.config - Request received
2024-10-08 17:48:34,706 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-08 17:56:16,914 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:16,918 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:16,920 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:16,971 - INFO - app.config - FastAPI application is starting...
2024-10-08 17:56:17,169 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:17,322 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:17,355 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:56:29,353 - INFO - app.config - Request received
2024-10-08 17:56:29,487 - INFO - app.config - Request received
2024-10-08 17:56:36,203 - INFO - app.config - Request received
2024-10-08 17:56:36,208 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-08 17:58:50,256 - INFO - app.config - Request received
2024-10-08 17:58:50,259 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJycnJndGdAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjg1MDU2NTUsImlhdCI6MTcyODQxOTI1NX0.5O4FFoCb9IEc47O0WhRZwn6G8EYvA8UC7r9XneVKqlY
2024-10-08 17:58:50,282 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-08 17:59:41,711 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-08 17:59:41,713 - INFO - app.config - User email: brrrgtg@example.com
2024-10-08 17:59:41,717 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x00000276507F0160>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67059c70fd53ec5f75ad937e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04564794650683228>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04629562530092788>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04753142093784567>]>", "clientId": {"$oid": "67059c70fd53ec5f75ad937e"}}
2024-10-08 17:59:41,720 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x00000276507F0160>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67059c70fd53ec5f75ad937e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04564794650683228>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04629562530092788>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04753142093784567>]>", "clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:59:41,722 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:59:41,723 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-08 17:59:42,094 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.1559999999590218}
2024-10-08 17:59:42,096 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.375}
2024-10-08 17:59:42,099 - DEBUG - pymongo.command - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8krkJSyQQCS+oPrShsm0Zw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728421177, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fzr7KTi5BzBfFwdBefXXkHHRp10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 103415, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:59:42,154 - DEBUG - pymongo.command - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Command succeeded", "durationMS": 56.466, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000062\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728421182, \"i\": 1}}, \"t\": 98}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728421182, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jfVVe3sjvbQxWJUnlgIJQ5jUQ3E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728421182, \"i\": 1}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 103415, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-08 17:59:42,158 - DEBUG - pymongo.connection - {"clientId": {"$oid": "67059c70fd53ec5f75ad937e"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-08 17:59:42,159 - INFO - app.config - Snap created with id 67059d3dfd53ec5f75ad937f
2024-10-09 18:03:12,481 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:12,484 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:12,488 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:12,524 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:03:12,722 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:12,759 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:12,813 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706ef90b69a2c4de72d319a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:03:37,806 - INFO - app.config - Request received
2024-10-09 18:03:38,307 - INFO - app.config - Request received
2024-10-09 18:05:33,791 - INFO - app.config - Request received
2024-10-09 18:05:33,798 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:07:47,812 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:47,816 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:47,819 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:47,895 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:07:48,032 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:48,103 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:48,140 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0a3ce440d37f9bc28e7"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:07:56,774 - INFO - app.config - Request received
2024-10-09 18:07:56,779 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:08:27,206 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:27,209 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:27,211 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:27,261 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:08:27,380 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:27,413 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:27,421 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f0cbed2b6df8dfce7547"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:08:33,601 - INFO - app.config - Request received
2024-10-09 18:08:33,608 - ERROR - app.config - Unhandled exception: 'twitsnaps-from-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:08:37,949 - INFO - app.config - Request received
2024-10-09 18:08:38,314 - INFO - app.config - Request received
2024-10-09 18:08:45,566 - INFO - app.config - Request received
2024-10-09 18:08:45,572 - ERROR - app.config - Unhandled exception: 'twitsnaps-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:09:36,188 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:36,191 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:36,194 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:36,237 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:09:36,457 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:36,535 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:36,672 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:09:48,490 - INFO - app.config - Request received
2024-10-09 18:09:48,722 - INFO - app.config - Request received
2024-10-09 18:09:53,094 - INFO - app.config - Request received
2024-10-09 18:09:53,098 - ERROR - app.config - Unhandled exception: 'twitsnaps-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:10:08,243 - INFO - app.config - Request received
2024-10-09 18:10:08,246 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJycnJndGdAZXhhbXBsZS5jb20iLCJleHAiOjE3Mjg1MDU2NTUsImlhdCI6MTcyODQxOTI1NX0.5O4FFoCb9IEc47O0WhRZwn6G8EYvA8UC7r9XneVKqlY
2024-10-09 18:10:08,257 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:11:20,097 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 401 None
2024-10-09 18:11:20,102 - WARNING - app.config - Caught HTTPException: Invalid token
2024-10-09 18:13:28,849 - INFO - app.config - Request received
2024-10-09 18:13:28,852 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:13:28,871 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:13:29,658 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:13:29,674 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:13:29,680 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f11024e2371e95381e81, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04179612029902788>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045807164912628595>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04170552586644831>]>", "clientId": {"$oid": "6706f11024e2371e95381e81"}}
2024-10-09 18:13:29,687 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f11024e2371e95381e81, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04179612029902788>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045807164912628595>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04170552586644831>]>", "clientId": {"$oid": "6706f11024e2371e95381e81"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:13:29,691 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:13:29,691 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:13:30,339 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14099999982863665}
2024-10-09 18:13:30,341 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.6559999999590218}
2024-10-09 18:13:30,342 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"bschiffer@fi.uba.ar\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"fuk0t/EzQjyupizmu9cSwg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728508407, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WXFYotL0CPQ06yi8mzFXH6+NWgA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121618, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:13:30,389 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Command succeeded", "durationMS": 47.229, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728508410, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J2+dd5bCSXwH9Utai9JPdmCNi6M=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728508410, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121618, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:13:30,391 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f11024e2371e95381e81"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:13:30,392 - INFO - app.config - Snaps retrieved for user bschiffer@fi.uba.ar
2024-10-09 18:14:17,002 - INFO - app.config - Request received
2024-10-09 18:14:17,134 - INFO - app.config - Request received
2024-10-09 18:14:24,771 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:14:24,774 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:14:24,776 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:14:24,821 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:14:25,020 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:14:25,057 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:14:25,061 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f230c3bb1d9e68a0c45c"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:15:12,266 - INFO - app.config - Request received
2024-10-09 18:15:12,276 - ERROR - app.config - Unhandled exception: 'twitsnaps-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:18:21,164 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:21,168 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:21,170 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:21,203 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:18:21,380 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:21,493 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:21,628 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f31c9b0969122dfe4c4a"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:18:32,221 - INFO - app.config - Request received
2024-10-09 18:18:32,490 - INFO - app.config - Request received
2024-10-09 18:18:39,636 - INFO - app.config - Request received
2024-10-09 18:18:39,644 - ERROR - app.config - Unhandled exception: 'snaps-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:19:18,819 - INFO - app.config - Request received
2024-10-09 18:19:18,821 - ERROR - app.config - Unhandled exception: 'snaps-followed' is not a valid ObjectId, it must be a 12-byte input or a 24-character hex string
2024-10-09 18:19:27,609 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:19:27,612 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:19:27,613 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:19:27,664 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:19:27,917 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:19:27,931 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:19:28,008 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:04,489 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04473153422273373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04855876023044844>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04507078987833209>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}}
2024-10-09 18:24:04,492 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04473153422273373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04855876023044844>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04507078987833209>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:04,493 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:04,494 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:24:04,823 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.1559999999590218}
2024-10-09 18:24:04,824 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.32800000021234155}
2024-10-09 18:24:04,826 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"0YEh4874RDq06BP3h6Kvbw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509038, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fv0ohkm2KoSQD3dzS6CULQARQAo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:04,877 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command succeeded", "durationMS": 51.413000000000004, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509044, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SUfBounW6M63aZwLkybPkiDuFfM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728509044, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:04,879 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:24:04,882 - INFO - app.config - Snap with id 66fde46e73ce2731eb8de63c retrieved
2024-10-09 18:24:40,584 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.047990836431144115>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04751046817815486>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04620979554961436>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}}
2024-10-09 18:24:40,587 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.047990836431144115>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04751046817815486>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04620979554961436>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:40,589 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:40,590 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-10-09 18:24:40,591 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"0YEh4874RDq06BP3h6Kvbw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509078, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RhP1YZq3Khz5qtk3wsECElCc5do=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 19169, "operationId": 19169, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:40,638 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command succeeded", "durationMS": 47.43, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:17.523Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 19169, "operationId": 19169, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:24:40,649 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:24:40,650 - INFO - app.config - Retrieved all snaps
2024-10-09 18:26:01,704 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:26:01,712 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:26:02,583 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:26:02,597 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:26:02,602 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.049029914783136376>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.050997322286870796>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.049132257669717024>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}}
2024-10-09 18:26:02,606 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f35fb0b0adf93bada2c4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.049029914783136376>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.050997322286870796>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.049132257669717024>]>", "clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:26:02,607 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:26:02,609 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-10-09 18:26:02,610 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"bschiffer@fi.uba.ar\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"0YEh4874RDq06BP3h6Kvbw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509158, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"o1E/uYnYFU8MUCHPSolDGob3noo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 15724, "operationId": 15724, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:26:02,659 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Command succeeded", "durationMS": 48.609, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509162, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"x5H7W/dKmJWgDjOPuIon8ohmTto=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728509162, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 15724, "operationId": 15724, "driverConnectionId": 1, "serverConnectionId": 121740, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:26:02,661 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f35fb0b0adf93bada2c4"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:26:02,662 - INFO - app.config - Snaps retrieved for user bschiffer@fi.uba.ar
2024-10-09 18:27:33,126 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:27:33,128 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:27:33,130 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:27:33,164 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:27:33,397 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:27:33,539 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:27:33,612 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f54554969b2211a8de3d"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,486 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,488 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,490 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,520 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:29:48,714 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,733 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:29:48,797 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:30:07,745 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:30:07,751 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:30:08,548 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:30:08,552 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:31:06,112 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:31:06,118 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:31:06,444 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:31:06,445 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:31:06,448 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04175302399501205>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05201657602894308>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04904800009062292>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}}
2024-10-09 18:31:06,449 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04175302399501205>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05201657602894308>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04904800009062292>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:06,451 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:06,451 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:31:06,759 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14100000029429793}
2024-10-09 18:31:06,760 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.3130000000819564}
2024-10-09 18:31:06,762 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"bschiffer@fi.uba.ar\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jWTX3TQFQhO3C+n5UgtmZQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509459, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M6va86I6W1/bbzX1V+LHzhTt4j8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:06,806 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command succeeded", "durationMS": 44.385, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509467, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OijKUfTBQfwdIpqxvHRNAQSOGu4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728509467, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:06,810 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:31:06,811 - INFO - app.config - Snaps retrieved for user bschiffer@fi.uba.ar
2024-10-09 18:31:39,810 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04458843864177395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04905478941608865>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04783886071175271>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}}
2024-10-09 18:31:39,814 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04458843864177395>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04905478941608865>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04783886071175271>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:39,816 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:39,817 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-10-09 18:31:39,818 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jWTX3TQFQhO3C+n5UgtmZQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509498, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5soRkqxhZtnwCqYykoySPYI0E/U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 19169, "operationId": 19169, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:39,861 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command succeeded", "durationMS": 43.331, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509500, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8mR8qoZt4cJyUvGsnzh0AD/E1S4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728509500, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 19169, "operationId": 19169, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:31:39,864 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:31:39,865 - INFO - app.config - Snap with id 66fde46e73ce2731eb8de63c retrieved
2024-10-09 18:32:54,318 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.044855858870316935>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04743092047420718>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043671742701370225>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}}
2024-10-09 18:32:54,322 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706f5ccea9d274607a63576, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.044855858870316935>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04743092047420718>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043671742701370225>]>", "clientId": {"$oid": "6706f5ccea9d274607a63576"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:32:54,324 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:32:54,326 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.0}
2024-10-09 18:32:54,329 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jWTX3TQFQhO3C+n5UgtmZQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728509569, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RYeImFx3D9ky5SCm/b22I+2ND8A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 15724, "operationId": 15724, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:32:54,374 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Command succeeded", "durationMS": 45.552, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:17.523Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 15724, "operationId": 15724, "driverConnectionId": 1, "serverConnectionId": 121854, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:32:54,379 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706f5ccea9d274607a63576"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:32:54,380 - INFO - app.config - Retrieved all snaps
2024-10-09 18:43:17,511 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:43:17,519 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:43:18,335 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:43:18,336 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:46:37,432 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:46:37,435 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:46:38,229 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:46:38,231 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:47:01,273 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:47:01,277 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:47:01,605 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:47:01,606 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:47:03,630 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:47:03,635 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:47:04,368 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:47:04,370 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:48:42,803 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:42,806 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:42,807 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:42,865 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:48:43,144 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:43,170 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:43,312 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fa3ad1b7f51bf91bf3ab"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:48:55,802 - INFO - app.config - Request received
2024-10-09 18:48:55,808 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:48:55,814 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:48:56,530 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:48:56,531 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:48:56,535 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:48:56,537 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:48:57,390 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 401 None
2024-10-09 18:48:57,392 - WARNING - app.config - Caught HTTPException: Invalid token
2024-10-09 18:49:28,952 - INFO - app.config - Request received
2024-10-09 18:49:28,955 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:49:28,960 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:49:29,716 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:49:29,717 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:49:29,720 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:49:29,723 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:49:30,600 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 401 None
2024-10-09 18:49:30,603 - WARNING - app.config - Caught HTTPException: Invalid token
2024-10-09 18:54:25,086 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:25,088 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:25,090 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:25,122 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:54:25,288 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:25,353 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:25,528 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fb915d3e7148490a6389"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:54:36,889 - INFO - app.config - Request received
2024-10-09 18:54:36,892 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:54:36,901 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:54:37,814 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:54:37,816 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:54:37,819 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:54:37,823 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:54:38,791 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 200 None
2024-10-09 18:54:38,793 - INFO - app.config - Username: riverpasion
2024-10-09 18:54:38,796 - INFO - app.config - Getting followed users
2024-10-09 18:54:38,799 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:54:39,402 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed?username=riverpasion HTTP/1.1" 200 None
2024-10-09 18:54:39,405 - ERROR - app.config - Unhandled exception: 'list' object has no attribute 'get'
2024-10-09 18:55:59,737 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:55:59,740 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:55:59,742 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:55:59,765 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:56:00,027 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:00,435 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:00,626 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fbefd5d7ffd8f3207e2b"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:06,867 - INFO - app.config - Request received
2024-10-09 18:56:06,870 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:56:06,878 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:56:07,601 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:56:07,604 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:56:07,613 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:56:07,619 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:56:08,644 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 200 None
2024-10-09 18:56:08,646 - INFO - app.config - Username: riverpasion
2024-10-09 18:56:08,649 - INFO - app.config - Getting followed users
2024-10-09 18:56:08,651 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:56:09,645 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed?username=riverpasion HTTP/1.1" 200 None
2024-10-09 18:56:09,647 - ERROR - app.config - Unhandled exception: 'list' object has no attribute 'get'
2024-10-09 18:56:39,848 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:39,850 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:39,852 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:39,887 - INFO - app.config - FastAPI application is starting...
2024-10-09 18:56:40,054 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:40,056 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:40,059 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:43,825 - INFO - app.config - Request received
2024-10-09 18:56:43,827 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:56:43,833 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 18:56:44,577 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 18:56:44,579 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 18:56:44,584 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 18:56:44,587 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:56:45,233 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 200 None
2024-10-09 18:56:45,235 - INFO - app.config - Username: riverpasion
2024-10-09 18:56:45,241 - INFO - app.config - Getting followed users
2024-10-09 18:56:45,249 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 18:56:46,292 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed?username=riverpasion HTTP/1.1" 200 None
2024-10-09 18:56:46,297 - INFO - app.config - Fetching snaps for followed users: ['bokitapasion']
2024-10-09 18:56:46,299 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706fc1709dcb2da91b6ed11, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.030999999959021807>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04699999978765845>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04699999978765845>]>", "clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}}
2024-10-09 18:56:46,302 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6706fc1709dcb2da91b6ed11, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.030999999959021807>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04699999978765845>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04699999978765845>]>", "clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:46,305 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:46,307 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:56:46,582 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14000000013038516}
2024-10-09 18:56:46,584 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.26500000013038516}
2024-10-09 18:56:46,587 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"bokitapasion\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9DGiiybwSYePswZooXG5Gw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728511000, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8Ac3HZq2u/jFrQ10eF2AvbAnThc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 122135, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:46,631 - DEBUG - pymongo.command - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Command succeeded", "durationMS": 45.114000000000004, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728511006, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"suxpIfJ9m13euK6envBe0QHqcXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728511006, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 122135, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 18:56:46,635 - DEBUG - pymongo.connection - {"clientId": {"$oid": "6706fc1709dcb2da91b6ed11"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 18:56:46,637 - INFO - app.config - Retrieved snaps from followed users
2024-10-09 19:21:04,220 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:04,224 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:04,225 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:04,252 - INFO - app.config - FastAPI application is starting...
2024-10-09 19:21:04,451 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-00.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:04,502 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:04,579 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection pool ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:21:16,546 - INFO - app.config - Request received
2024-10-09 19:21:16,887 - INFO - app.config - Request received
2024-10-09 19:21:24,376 - INFO - app.config - Request received
2024-10-09 19:21:24,380 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 19:21:24,389 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-09 19:22:16,208 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-09 19:22:16,212 - INFO - app.config - User email: bschiffer@fi.uba.ar
2024-10-09 19:22:16,216 - INFO - app.config - Getting username from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJzY2hpZmZlckBmaS51YmEuYXIiLCJleHAiOjE3Mjg1OTQ3ODIsImlhdCI6MTcyODUwODM4Mn0.IYZgNx3OwEcVSmmCYEQEcYLJeEki-JonbPpDFC5JDqo
2024-10-09 19:22:16,219 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 19:22:17,217 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/ HTTP/1.1" 200 None
2024-10-09 19:22:17,219 - INFO - app.config - Username: riverpasion
2024-10-09 19:22:17,223 - INFO - app.config - Getting followed users
2024-10-09 19:22:17,227 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-09 19:22:18,274 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=riverpasion HTTP/1.1" 200 None
2024-10-09 19:22:18,277 - INFO - app.config - Fetching snaps for followed users: ['mscazzola@fi.uba.ar']
2024-10-09 19:22:18,278 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670701d0265833daa1db56a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03947801592221857>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04241575670599343>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04802400006448628>]>", "clientId": {"$oid": "670701d0265833daa1db56a4"}}
2024-10-09 19:22:18,281 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670701d0265833daa1db56a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03947801592221857>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04241575670599343>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04802400006448628>]>", "clientId": {"$oid": "670701d0265833daa1db56a4"}, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:22:18,295 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection checkout started", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:22:18,297 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection created", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 19:22:18,602 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection ready", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.14000000013038516}
2024-10-09 19:22:18,605 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection checked out", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1, "durationMS": 0.3119999999180436}
2024-10-09 19:22:18,608 - DEBUG - pymongo.command - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"mscazzola@fi.uba.ar\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"fGZ3eZ7lSyuWFrLM6kg0dA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728512534, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5TAkwaC7vM0jwSR6uOjnHQuljmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 122189, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:22:18,664 - DEBUG - pymongo.command - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Command succeeded", "durationMS": 57.306999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6706f9cd32cfb6e61efeb7d5\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:53.169Z\"}}, {\"_id\": {\"$oid\": \"6706f9b632cfb6e61efeb7d4\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:30.760Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728512538, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"XXxxXPtmWlN/NsNNPuioq/24bV4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728512538, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 26500, "operationId": 26500, "driverConnectionId": 1, "serverConnectionId": 122189, "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017}
2024-10-09 19:22:18,669 - DEBUG - pymongo.connection - {"clientId": {"$oid": "670701d0265833daa1db56a4"}, "message": "Connection checked in", "serverHost": "twitsnaps-shard-00-02.gotah.mongodb.net", "serverPort": 27017, "driverConnectionId": 1}
2024-10-09 19:22:18,672 - INFO - app.config - Retrieved snaps from followed users
2024-10-13 15:43:34,833 - INFO - app.config - FastAPI application is starting...
2024-10-13 15:43:39,643 - INFO - app.config - Request received
2024-10-13 15:43:39,709 - INFO - app.config - Request received
2024-10-13 15:43:42,914 - INFO - app.config - Request received
2024-10-13 15:43:43,386 - INFO - app.config - Request received
2024-10-13 15:43:47,534 - INFO - app.config - Request received
2024-10-13 15:43:47,536 - WARNING - app.config - Caught HTTPException: Token missing
2024-10-13 15:44:00,017 - INFO - app.config - Request received
2024-10-13 15:44:00,018 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c14d69881e24eb55c44b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03271585851500277>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041847739559598265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04696568155719433>]>", "clientId": {"$oid": "670c14d69881e24eb55c44b3"}}
2024-10-13 15:44:00,019 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c14d69881e24eb55c44b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03271585851500277>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041847739559598265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04696568155719433>]>", "clientId": {"$oid": "670c14d69881e24eb55c44b3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:44:00,294 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c14d69881e24eb55c44b3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"v5RLCqWUS0q/F0v1GyMwDQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728845035, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+EteG9Q6E4DfPdNL307JBwmyuo0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 58045, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:44:00,340 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c14d69881e24eb55c44b3"}, "message": "Command succeeded", "durationMS": 46.80200000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6706f9cd32cfb6e61efeb7d5\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:53.169Z\"}}, {\"_id\": {\"$oid\": \"6706f9b632cfb6e61efeb7d4\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:30.760Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 58045, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:44:00,344 - INFO - app.config - Retrieved all snaps
2024-10-13 15:48:30,371 - INFO - app.config - FastAPI application is starting...
2024-10-13 15:48:33,102 - INFO - app.config - Request received
2024-10-13 15:48:33,221 - INFO - app.config - Request received
2024-10-13 15:48:39,806 - INFO - app.config - Request received
2024-10-13 15:48:39,810 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c15fe47057aa9689b9a03, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04366634300095029>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039736897000693716>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039102095004636794>]>", "clientId": {"$oid": "670c15fe47057aa9689b9a03"}}
2024-10-13 15:48:39,811 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c15fe47057aa9689b9a03, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04366634300095029>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039736897000693716>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039102095004636794>]>", "clientId": {"$oid": "670c15fe47057aa9689b9a03"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:48:40,063 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c15fe47057aa9689b9a03"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kCdUZN4XQYa2SCPa/cbUqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728845310, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"0O1RauzbFrn+kGTCXpJmccmioJ0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 57710, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:48:40,102 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c15fe47057aa9689b9a03"}, "message": "Command succeeded", "durationMS": 39.326, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6706f9cd32cfb6e61efeb7d5\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:53.169Z\"}}, {\"_id\": {\"$oid\": \"6706f9b632cfb6e61efeb7d4\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:30.760Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 57710, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 15:48:40,110 - INFO - app.config - Retrieved all snaps
2024-10-13 16:06:23,267 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:06:28,675 - INFO - app.config - Request received
2024-10-13 16:06:28,785 - INFO - app.config - Request received
2024-10-13 16:07:00,929 - INFO - app.config - Request received
2024-10-13 16:07:01,066 - INFO - app.config - Request received
2024-10-13 16:07:47,339 - INFO - app.config - Request received
2024-10-13 16:07:47,341 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038198610558636575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04685560705491988>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04169515640691021>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:07:47,342 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038198610558636575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04685560705491988>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04169515640691021>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:07:47,624 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846463, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/ejELBSo7YAlI5aK3iEwn/ExdOI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1059961393, "operationId": 1059961393, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:07:47,660 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 36.412, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6706f9cd32cfb6e61efeb7d5\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:53.169Z\"}}, {\"_id\": {\"$oid\": \"6706f9b632cfb6e61efeb7d4\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:30.760Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce2731eb8de63b\"}...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1059961393, "operationId": 1059961393, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:07:47,663 - INFO - app.config - Retrieved all snaps
2024-10-13 16:12:00,752 - INFO - app.config - Request received
2024-10-13 16:12:00,753 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:12:00,764 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:12:01,116 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:12:01,122 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:12:01,125 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:12:01,127 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,130 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846713, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JQznX1fOq17uPynV6gepVS+8O2U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 959997301, "operationId": 959997301, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,175 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 45.449999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 959997301, "operationId": 959997301, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,177 - INFO - app.config - Snap with id 67059d3dfd53ec5f75ad937f retrieved
2024-10-13 16:12:01,178 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:12:01,179 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,181 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"67059d3dfd53ec5f75ad937f\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"likes\"}", "commandName": "find", "databaseName": "likes", "requestId": 485560280, "operationId": 485560280, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,217 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 35.922999999999995, "reply": "{\"cursor\": {\"ns\": \"likes.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}}", "commandName": "find", "databaseName": "likes", "requestId": 485560280, "operationId": 485560280, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,220 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:12:01,222 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,224 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 402724286, "operationId": 402724286, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,277 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 54.033, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 402724286, "operationId": 402724286, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,279 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x799054e6b7f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:12:01,279 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x799054e6b7f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,280 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846720, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"61wHepo6jmY2igSKjNw9DTo/PYQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"likes\", \"documents\": [{\"snap_id\": \"67059d3dfd53ec5f75ad937f\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1b81d2e6e0b46a2c50df\"}}]}", "commandName": "insert", "databaseName": "likes", "requestId": 593209441, "operationId": 593209441, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,353 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 72.985, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 2}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Wjkm6ztdMbRSDf9IDkft2WIJf6w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 2}}}", "commandName": "insert", "databaseName": "likes", "requestId": 593209441, "operationId": 593209441, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,354 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x799054e6b7f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}}
2024-10-13 16:12:01,355 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x799054e6b7f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1a2fd2e6e0b46a2c50de, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040220506223242615>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04388596722679032>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04281303061606281>]>", "clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,356 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"7Cvsafs4TAWP0GPGjKz+6Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Wjkm6ztdMbRSDf9IDkft2WIJf6w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1194953865, "operationId": 1194953865, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:01,398 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1a2fd2e6e0b46a2c50de"}, "message": "Command succeeded", "durationMS": 42.482, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 3}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Wjkm6ztdMbRSDf9IDkft2WIJf6w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728846721, \"i\": 3}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1194953865, "operationId": 1194953865, "driverConnectionId": 1, "serverConnectionId": 58313, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:12:54,825 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:12:56,706 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:13:02,524 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:13:09,789 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:13:55,515 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:14:01,219 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:14:46,373 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:14:56,839 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:14:58,742 - INFO - app.config - Request received
2024-10-13 16:15:02,061 - INFO - app.config - Request received
2024-10-13 16:15:02,217 - INFO - app.config - Request received
2024-10-13 16:15:18,725 - INFO - app.config - Request received
2024-10-13 16:15:18,727 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03554186440131162>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03901806060050149>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034870292317355056>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:15:18,728 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03554186440131162>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03901806060050149>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034870292317355056>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:15:18,963 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728846917, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Uj0tOwKWA9CubJiH8IxjTB63Oto=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:15:18,999 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 36.615, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6706f9cd32cfb6e61efeb7d5\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:53.169Z\"}}, {\"_id\": {\"$oid\": \"6706f9b632cfb6e61efeb7d4\"}, \"email\": \"mscazzola@fi.uba.ar\", \"message\": \"borja le pega a los hijoooos, gallina amarga\", \"created_at\": {\"$date\": \"2024-10-09T21:46:30.760Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"67059d3dfd53ec5f75ad937f\"}, \"email\": \"brrrgtg@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-08T17:59:41.717Z\"}, \"is_private\": true, \"likes\": 1}, {\"_id\": {\"$oid\": \"66fde46f73ce2731eb8de63d\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:19.285Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46e73ce2731eb8de63c\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:18.460Z\"}, \"is_private\": true}, {\"_id\": {\"$oid\": \"66fde46d73ce27...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:15:19,002 - INFO - app.config - Retrieved all snaps
2024-10-13 16:16:52,322 - INFO - app.config - Request received
2024-10-13 16:16:52,323 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:16:52,325 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:16:52,696 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:16:52,704 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:16:52,707 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:16:52,710 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,712 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847007, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"uZ82yx1745mc34kbZvGNBD/M9aU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,749 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 38.031, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 12}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,751 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:16:52,752 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:16:52,753 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,754 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1973594324, "operationId": 1973594324, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,791 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 37.096, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1973594324, "operationId": 1973594324, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,793 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:16:52,793 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,795 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,834 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 39.629999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,836 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:16:52,838 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,839 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,910 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 71.273, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 16}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 16}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,911 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:16:52,912 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03404925166333987>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03742422679437539>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038822066895309176>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,912 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 16}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:16:52,961 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 48.635, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 17}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 17}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"F5iUzJ2ORbMiRhqzsyPVL80QVa8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847012, \"i\": 17}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:55,678 - INFO - app.config - Request received
2024-10-13 16:17:55,680 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:17:55,681 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:17:56,106 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:17:56,109 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:17:56,111 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:17:56,111 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,112 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847067, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"i1ZeqpN8WBO86kDuKdulXlGKesI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,157 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 44.951, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847075, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnPbKIVReeaLuGIcHcNVGjCPtQc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847075, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,160 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:17:56,160 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:17:56,161 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,162 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847075, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnPbKIVReeaLuGIcHcNVGjCPtQc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,216 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 54.633, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,217 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:17:56,218 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,219 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,272 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 53.74, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,274 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:17:56,274 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,275 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1ce44d7291ccc2093dc7\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 939819582, "operationId": 939819582, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,320 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 44.991, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 7}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 7}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 939819582, "operationId": 939819582, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,321 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:17:56,321 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03519187989309045>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03791937873679971>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04015579283553799>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,322 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:56,364 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 41.730999999999995, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 8}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZsR50CrdP6d4SC3lvNfQe+Fzv+Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847076, \"i\": 8}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:17:59,898 - INFO - app.config - Request received
2024-10-13 16:17:59,899 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:17:59,900 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:18:00,241 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:18:00,244 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:18:00,246 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:00,246 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,247 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847077, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ydbE4qpjyV1BOWQkPRojeYovrok=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1585990364, "operationId": 1585990364, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,293 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 45.717, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 2}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1585990364, "operationId": 1585990364, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,294 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:18:00,294 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:00,294 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,295 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1374344043, "operationId": 1374344043, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,346 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 51.443000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce44d7291ccc2093dc7\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1374344043, "operationId": 1374344043, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,348 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:00,348 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,349 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 760313750, "operationId": 760313750, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,385 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 35.87, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 2}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 760313750, "operationId": 760313750, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,387 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:00,389 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,390 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 5, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1ce84d7291ccc2093dc8\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1477171087, "operationId": 1477171087, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,430 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 40.472, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 7}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 7}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1477171087, "operationId": 1477171087, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,431 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:00,431 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,432 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 6, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 356426808, "operationId": 356426808, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:00,475 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 42.817, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 8}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 8}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 356426808, "operationId": 356426808, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,429 - INFO - app.config - Request received
2024-10-13 16:18:01,430 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:18:01,431 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:18:01,804 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:18:01,810 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:18:01,812 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:01,813 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,814 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847080, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yMrNqdT2GKrNZ+mFKEQW8xCPJXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 945117276, "operationId": 945117276, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,856 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 42.189, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 3}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 945117276, "operationId": 945117276, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,857 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:18:01,858 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:01,859 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,860 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1889947178, "operationId": 1889947178, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,900 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 39.825, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce44d7291ccc2093dc7\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce84d7291ccc2093dc8\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1889947178, "operationId": 1889947178, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,902 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:01,904 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,905 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1780695788, "operationId": 1780695788, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,943 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 38.346, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 3}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1780695788, "operationId": 1780695788, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,945 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:01,946 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,948 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 7, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1ce94d7291ccc2093dc9\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 709393584, "operationId": 709393584, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,990 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 42.442, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 10}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 10}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 709393584, "operationId": 709393584, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,991 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}}
2024-10-13 16:18:01,992 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x792c2df377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1c304d7291ccc2093dc5, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03464006591366296>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038043979787583004>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05210811666710522>]>", "clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:01,993 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8NkJuORGRM6TmuFoJju+tw==\", \"subType\": \"04\"}}}, \"txnNumber\": 8, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 491705403, "operationId": 491705403, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:02,036 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1c304d7291ccc2093dc5"}, "message": "Command succeeded", "durationMS": 42.962, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 11}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ku33/SXy2/AU/7aL2Tqff8u0DGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847081, \"i\": 11}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 491705403, "operationId": 491705403, "driverConnectionId": 1, "serverConnectionId": 58270, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:25,699 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:18:26,695 - INFO - app.config - Request received
2024-10-13 16:18:26,698 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:18:26,700 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:18:27,097 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:18:27,099 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:18:27,099 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}}
2024-10-13 16:18:27,100 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,348 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"6iqTaaI8RdaNUaNC8RVp4g==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847106, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"APjI4M1lXUngpR6Fsz3z//yc/Ho=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,384 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command succeeded", "durationMS": 36.036, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 4}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,385 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:18:27,385 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}}
2024-10-13 16:18:27,385 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,386 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"6iqTaaI8RdaNUaNC8RVp4g==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,422 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command succeeded", "durationMS": 36.212, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce44d7291ccc2093dc7\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce84d7291ccc2093dc8\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce94d7291ccc2093dc9\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,424 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}}
2024-10-13 16:18:27,425 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,427 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"6iqTaaI8RdaNUaNC8RVp4g==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,478 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command succeeded", "durationMS": 51.882, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 4}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,479 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7c12ed4577f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}}
2024-10-13 16:18:27,480 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7c12ed4577f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,480 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"6iqTaaI8RdaNUaNC8RVp4g==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1d03e20c17522c9ac393\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,523 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command succeeded", "durationMS": 42.931, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 3}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 3}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,524 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7c12ed4577f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}}
2024-10-13 16:18:27,525 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7c12ed4577f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1d01e20c17522c9ac392, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03692941500048619>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03998720600793604>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.045795722006005235>]>", "clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,526 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"6iqTaaI8RdaNUaNC8RVp4g==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:27,567 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d01e20c17522c9ac392"}, "message": "Command succeeded", "durationMS": 41.196000000000005, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 6}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wnbER0FXuBYhBqZgqVEkHoeWmzQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847107, \"i\": 6}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58436, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:18:48,093 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:18:50,875 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:18:59,895 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:19:02,986 - INFO - app.config - Request received
2024-10-13 16:19:02,990 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:19:02,992 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:19:03,422 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:19:03,425 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:19:03,426 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}}
2024-10-13 16:19:03,427 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:03,818 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"eF3/FChoSBaKUACExCDTlQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847140, \"i\": 19}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"BNeAqksoisF0K98XkZRN387zros=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:03,871 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command succeeded", "durationMS": 52.865, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 5}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:03,872 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:19:03,872 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}}
2024-10-13 16:19:03,873 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:03,874 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"eF3/FChoSBaKUACExCDTlQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,027 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command succeeded", "durationMS": 153.341, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"670c1ca44d7291ccc2093dc6\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce44d7291ccc2093dc7\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce84d7291ccc2093dc8\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1ce94d7291ccc2093dc9\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, {\"_id\": {\"$oid\": \"670c1d03e20c17522c9ac393\"}, \"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,031 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}}
2024-10-13 16:19:04,033 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,035 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"eF3/FChoSBaKUACExCDTlQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,076 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command succeeded", "durationMS": 41.899, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 5}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,079 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x721050e537f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}}
2024-10-13 16:19:04,080 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x721050e537f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,082 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"eF3/FChoSBaKUACExCDTlQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847143, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rAzNNc2LGl86fhe7I7w6kP/X+KI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1d2830556e4db8bc17e2\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,128 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command succeeded", "durationMS": 46.633, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 2}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"2wibpdgM4kLceZolSDf8qsRiGfE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 2}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,130 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x721050e537f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}}
2024-10-13 16:19:04,131 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x721050e537f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1d2330556e4db8bc17e1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13736648100893945>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.14199975501105655>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.13972270500380546>]>", "clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,132 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"eF3/FChoSBaKUACExCDTlQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"2wibpdgM4kLceZolSDf8qsRiGfE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:04,181 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d2330556e4db8bc17e1"}, "message": "Command succeeded", "durationMS": 49.266, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 4}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"2wibpdgM4kLceZolSDf8qsRiGfE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847144, \"i\": 4}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58444, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:19:59,134 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:20:01,671 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:20:05,290 - INFO - app.config - Request received
2024-10-13 16:20:05,293 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:20:05,295 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:20:05,667 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:20:05,670 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:20:05,671 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d61700b9394acc2bab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03746320400387049>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03681536299700383>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035077849999652244>]>", "clientId": {"$oid": "670c1d61700b9394acc2bab4"}}
2024-10-13 16:20:05,671 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1d61700b9394acc2bab4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03746320400387049>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03681536299700383>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035077849999652244>]>", "clientId": {"$oid": "670c1d61700b9394acc2bab4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:20:05,943 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d61700b9394acc2bab4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"CPEJYCYySDW32XmpG7qn/g==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847201, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"S+UWBm4RX8RDVxElfLDdirYWLL8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58430, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:20:05,982 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1d61700b9394acc2bab4"}, "message": "Command succeeded", "durationMS": 38.492, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 6}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847205, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"29v4pgzExfMN/0j9ibfQgIsLNf0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847205, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58430, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:20:05,983 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:20:05,983 - ERROR - app.config - Unhandled exception: 'Cursor' object has no attribute 'projection'
2024-10-13 16:20:26,311 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:20:28,944 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:20:32,057 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:20:35,588 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:21:04,600 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:21:10,788 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:21:17,770 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:21:22,010 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:21:25,608 - INFO - app.config - Request received
2024-10-13 16:21:25,611 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:21:25,612 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:21:26,506 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:21:26,509 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:21:26,511 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}}
2024-10-13 16:21:26,511 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,797 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9KQplCj8Som2l/IQ5CoffQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847281, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ojwT0mKoRjfhoYIgRrwbnXUuwh0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,834 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command succeeded", "durationMS": 36.761, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 6}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,835 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:21:26,835 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}}
2024-10-13 16:21:26,836 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,837 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9KQplCj8Som2l/IQ5CoffQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,873 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command succeeded", "durationMS": 36.127, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,873 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}}
2024-10-13 16:21:26,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,874 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9KQplCj8Som2l/IQ5CoffQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,909 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command succeeded", "durationMS": 34.889, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 6}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,911 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7d1b371377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}}
2024-10-13 16:21:26,911 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7d1b371377f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,913 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9KQplCj8Som2l/IQ5CoffQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1db6d264212802929bba\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,957 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command succeeded", "durationMS": 44.555, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 10}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 10}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,958 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7d1b371377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}}
2024-10-13 16:21:26,958 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7d1b371377f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1db1d264212802929bb9, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05435288000444416>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04397165200498421>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03806006100785453>]>", "clientId": {"$oid": "670c1db1d264212802929bb9"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,959 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9KQplCj8Som2l/IQ5CoffQ==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:26,999 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1db1d264212802929bb9"}, "message": "Command succeeded", "durationMS": 40.4, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 12}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"dSI8l7zRibNcA6CCbuhknH+Ev7A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847286, \"i\": 12}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:21:57,662 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:22:01,298 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:22:03,800 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:22:06,642 - INFO - app.config - Request received
2024-10-13 16:22:06,646 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:22:06,648 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:22:07,026 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:22:07,031 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:22:07,033 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1ddbc969802ff266b8b1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035209556997870095>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03397919700364582>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03392668800370302>]>", "clientId": {"$oid": "670c1ddbc969802ff266b8b1"}}
2024-10-13 16:22:07,035 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1ddbc969802ff266b8b1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035209556997870095>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03397919700364582>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03392668800370302>]>", "clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,658 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zB1R/ZnCSPOHkh9kkHkQIQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847323, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"1H5eN07RXNGgon9wUp9STNuoB+I=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58263, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,762 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "message": "Command succeeded", "durationMS": 103.98, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 7}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847327, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ki0kf1pqGN3+fnycCMZW/niv2EQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847327, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58263, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,763 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:22:07,764 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1ddbc969802ff266b8b1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035209556997870095>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03397919700364582>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03392668800370302>]>", "clientId": {"$oid": "670c1ddbc969802ff266b8b1"}}
2024-10-13 16:22:07,764 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1ddbc969802ff266b8b1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035209556997870095>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03397919700364582>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03392668800370302>]>", "clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,765 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zB1R/ZnCSPOHkh9kkHkQIQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847327, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ki0kf1pqGN3+fnycCMZW/niv2EQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58263, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,832 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1ddbc969802ff266b8b1"}, "message": "Command succeeded", "durationMS": 66.467, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847327, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ki0kf1pqGN3+fnycCMZW/niv2EQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847327, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58263, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:22:07,833 - ERROR - app.config - Unhandled exception: 'list' object has no attribute 'map'
2024-10-13 16:22:39,104 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:22:44,023 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:22:54,065 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:23:00,064 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:23:04,405 - INFO - app.config - Request received
2024-10-13 16:23:04,407 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:23:04,410 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:23:04,826 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:23:04,832 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:23:04,835 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e1491730ad4195ac75e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04030225198948756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03390712499094661>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03414942498784512>]>", "clientId": {"$oid": "670c1e1491730ad4195ac75e"}}
2024-10-13 16:23:04,836 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e1491730ad4195ac75e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04030225198948756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03390712499094661>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03414942498784512>]>", "clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,117 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ic0Oci4KRAGVmcgLbiEf2Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847379, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oTdYig7okc7e/p4fStsxmI6obRo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58492, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,160 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "message": "Command succeeded", "durationMS": 43.74, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 7}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847384, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Z05sM19nxSKUi7bc4p/fZiwDGlQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847384, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58492, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,161 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:23:05,162 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e1491730ad4195ac75e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04030225198948756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03390712499094661>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03414942498784512>]>", "clientId": {"$oid": "670c1e1491730ad4195ac75e"}}
2024-10-13 16:23:05,163 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e1491730ad4195ac75e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04030225198948756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03390712499094661>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03414942498784512>]>", "clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,164 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ic0Oci4KRAGVmcgLbiEf2Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847384, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Z05sM19nxSKUi7bc4p/fZiwDGlQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58492, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,213 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e1491730ad4195ac75e"}, "message": "Command succeeded", "durationMS": 48.696999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847385, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"pec1MB2KvW8mYAzNknKPwnoXPEw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847385, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58492, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:05,216 - WARNING - app.config - Caught HTTPException: You have already liked this snap.
2024-10-13 16:23:56,624 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:23:57,533 - INFO - app.config - Request received
2024-10-13 16:23:57,536 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:23:57,539 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:23:57,989 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:23:57,991 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:23:57,992 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03244157000153791>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036629246998927556>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035354109000763856>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:23:57,993 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03244157000153791>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036629246998927556>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035354109000763856>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,232 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847436, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"BcD90Pyvx/wjq3BXSyeIzgd6h04=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,269 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 37.431, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 7}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847437, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cUycgV3X6mx7DJdR1MCNCs+QAYA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847437, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,270 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:23:58,270 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03244157000153791>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036629246998927556>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035354109000763856>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:23:58,271 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03244157000153791>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036629246998927556>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035354109000763856>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,271 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847437, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cUycgV3X6mx7DJdR1MCNCs+QAYA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,310 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 39.311, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}, {\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847437, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cUycgV3X6mx7DJdR1MCNCs+QAYA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847437, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:23:58,311 - WARNING - app.config - Caught HTTPException: You have already liked this snap.
2024-10-13 16:24:45,704 - INFO - app.config - Request received
2024-10-13 16:24:45,705 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:24:45,706 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:24:46,167 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:24:46,172 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:24:46,174 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:46,175 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,177 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847476, \"i\": 38}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j33/FmzKguWYKI8gSwAoLMmpPs8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 278722862, "operationId": 278722862, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,216 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 39.168, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 278722862, "operationId": 278722862, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,217 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:24:46,217 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:46,218 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,218 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 233665123, "operationId": 233665123, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,255 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 36.525, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 233665123, "operationId": 233665123, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,257 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:46,258 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,259 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,302 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 43.367999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,304 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:46,309 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,310 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1e7eda6a06c4040344fd\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,351 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 41.484, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 3}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 3}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,352 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:46,354 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0355546674252255>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04085491593731569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036709940909268345>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,355 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:46,401 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 46.498, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 5}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 5}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,338 - INFO - app.config - Request received
2024-10-13 16:24:54,339 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:24:54,340 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:24:54,729 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:24:54,732 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:24:54,734 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03632709894136061>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041048557748501205>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03719829352682457>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:54,735 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03632709894136061>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041048557748501205>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03719829352682457>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,736 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847486, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w+JCmS/00OJiivO1JXy70fN6DOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1369133069, "operationId": 1369133069, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,775 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 39.274, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847494, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sdzaeP/QeX0d3JqOwo9taXKji/s=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847494, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1369133069, "operationId": 1369133069, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,776 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:24:54,777 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03632709894136061>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041048557748501205>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03719829352682457>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:24:54,777 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03632709894136061>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041048557748501205>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03719829352682457>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,778 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847494, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sdzaeP/QeX0d3JqOwo9taXKji/s=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,814 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 35.741, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847494, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sdzaeP/QeX0d3JqOwo9taXKji/s=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847494, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:24:54,815 - WARNING - app.config - Caught HTTPException: You have already liked this snap.
2024-10-13 16:25:20,739 - INFO - app.config - Request received
2024-10-13 16:25:20,740 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:25:20,742 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:25:21,230 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:25:21,234 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:25:21,235 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:21,236 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,237 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847517, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"iX3tEeQ0cIM4P3fxCr6A+IrKSIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 756898537, "operationId": 756898537, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,271 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 34.789, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 756898537, "operationId": 756898537, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,273 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:25:21,273 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:21,274 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,275 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,311 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 36.91, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1734575198, "operationId": 1734575198, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,314 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:21,315 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,316 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1973594324, "operationId": 1973594324, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,353 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 36.979, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1973594324, "operationId": 1973594324, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,355 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:21,356 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "delete", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,358 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"delete\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"deletes\": [{\"q\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\"}, \"limit\": 1}]}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,400 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 41.792, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 2}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 2}}}", "commandName": "delete", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,401 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:21,401 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037141337888266526>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045081533703446246>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037741006811111394>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,402 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": -1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:21,442 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 39.86, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 3}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QQYlQWbbWnC9rKtqzcJycaCD4xw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847521, \"i\": 3}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:27,825 - INFO - app.config - Request received
2024-10-13 16:25:27,826 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:25:27,828 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:25:28,174 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:25:28,177 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:25:28,178 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03687440571033684>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044975420763450374>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03706144764785873>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:28,179 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03687440571033684>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044975420763450374>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03706144764785873>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,180 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yNCNI5K7n1oLfHqbhUtfQ9f3/Wo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,215 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 35.319, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yNCNI5K7n1oLfHqbhUtfQ9f3/Wo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,216 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:25:28,216 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03687440571033684>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044975420763450374>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03706144764785873>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:28,216 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03687440571033684>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.044975420763450374>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03706144764785873>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,217 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yNCNI5K7n1oLfHqbhUtfQ9f3/Wo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,253 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 36.066, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"yNCNI5K7n1oLfHqbhUtfQ9f3/Wo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847527, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:28,254 - WARNING - app.config - Caught HTTPException: You have not liked this snap.
2024-10-13 16:25:41,103 - INFO - app.config - Request received
2024-10-13 16:25:41,104 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:25:41,105 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:25:41,475 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:25:41,478 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:25:41,480 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03602998996636968>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04322323321068822>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036427474117250065>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:41,480 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03602998996636968>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04322323321068822>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.036427474117250065>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:41,481 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63b\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847536, \"i\": 24}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VLxYQaskEg4iHJYGg8fc1oPgB9s=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 982906996, "operationId": 982906996, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:41,527 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 46.096, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847541, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fsgRrtU4jcmtsVNbbbeRQEKE6Nc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847541, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 982906996, "operationId": 982906996, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:41,529 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63b retrieved
2024-10-13 16:25:41,530 - WARNING - app.config - Caught HTTPException: Snap not found.
2024-10-13 16:25:49,530 - INFO - app.config - Request received
2024-10-13 16:25:49,531 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:25:49,532 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:25:49,894 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:25:49,898 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:25:49,900 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:49,902 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:49,903 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63b\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847547, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"K7o8bfADrwDb41w5wqJR/Slp98U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:49,943 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 40.436, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847549, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OkEbUsfVGhQoTFndLtSve2tzeXY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847549, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:49,945 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63b retrieved
2024-10-13 16:25:49,946 - WARNING - app.config - Caught HTTPException: Snap not found.
2024-10-13 16:25:55,530 - INFO - app.config - Request received
2024-10-13 16:25:55,531 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:25:55,532 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:25:55,888 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:25:55,893 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:25:55,896 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:55,898 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,899 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847549, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OkEbUsfVGhQoTFndLtSve2tzeXY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,937 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 37.708999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,938 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:25:55,938 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:55,939 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,940 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,983 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 43.097, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,984 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:55,985 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:55,986 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,024 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 38.373999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,025 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:56,025 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,026 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 5, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847555, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"owVQ0lenF8pxGLipthxy5Q1xM8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"66fde46a73ce2731eb8de63a\", \"email\": \"scoobydoo@gmail.com\", \"_id\": {\"$oid\": \"670c1ec4da6a06c4040344fe\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 805750846, "operationId": 805750846, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,068 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 42.26, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 1}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZqAr7tn4Vu3vW93edNtTuTc3C6A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 1}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 805750846, "operationId": 805750846, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,071 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}}
2024-10-13 16:25:56,073 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x79e4546337f0>", "operation": "update", "topologyDescription": "<TopologyDescription id: 670c1e4cda6a06c4040344fc, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03546019657273142>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04226204316744804>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03606016089210296>]>", "clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,076 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yyJcs7fnQmWSidgb7HEy5w==\", \"subType\": \"04\"}}}, \"txnNumber\": 6, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZqAr7tn4Vu3vW93edNtTuTc3C6A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:25:56,118 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c1e4cda6a06c4040344fc"}, "message": "Command succeeded", "durationMS": 42.357, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 3}}, \"t\": 99}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZqAr7tn4Vu3vW93edNtTuTc3C6A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847556, \"i\": 3}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 58469, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:27:06,875 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:10,971 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:15,937 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:19,534 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:25,310 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:28,564 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:31,041 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:36,001 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:40,061 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:46,998 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:27:54,498 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:05,441 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:24,848 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:28,621 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:33,344 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:37,278 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:44,760 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:28:49,385 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:09,025 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:11,542 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:17,118 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:21,125 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:26,353 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:32,336 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:34,431 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:36,359 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:38,878 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:47,832 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:29:59,402 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:06,162 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:13,638 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:38,875 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:42,505 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:45,170 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:49,453 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:30:52,221 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:02,543 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:06,134 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:10,666 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:12,412 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:16,500 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:19,320 - INFO - app.config - Request received
2024-10-13 16:31:19,323 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InNjb29ieWRvb0BnbWFpbC5jb20iLCJleHAiOjE3Mjg5MzI5NzUsImlhdCI6MTcyODg0NjU3NX0.6tGXYnIF5D7F9Qb-fKC6utmUYLsuN-_lU_AF5WYPX8E
2024-10-13 16:31:19,326 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-13 16:31:19,692 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-13 16:31:19,701 - INFO - app.config - User email: scoobydoo@gmail.com
2024-10-13 16:31:19,704 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c2004800822eec25be39b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.061642043001484126>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.06695177999790758>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0663330659881467>]>", "clientId": {"$oid": "670c2004800822eec25be39b"}}
2024-10-13 16:31:19,706 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c2004800822eec25be39b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.061642043001484126>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.06695177999790758>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0663330659881467>]>", "clientId": {"$oid": "670c2004800822eec25be39b"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:19,954 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c2004800822eec25be39b"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Ha4QKnaR8ylKNPM/MwFZw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847876, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"vhBCkK0OYV/KvYx8ktiM57sGfGY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:19,990 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c2004800822eec25be39b"}, "message": "Command succeeded", "durationMS": 35.575, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66fde46a73ce2731eb8de63a\"}, \"email\": \"brandonschi@example.com\", \"message\": \"string\", \"created_at\": {\"$date\": \"2024-10-02T21:25:14.104Z\"}, \"is_private\": true, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847879, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"A5hPr+Sp/UqB8/C92r8vj4d17bM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847879, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:19,991 - INFO - app.config - Snap with id 66fde46a73ce2731eb8de63a retrieved
2024-10-13 16:31:19,992 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c2004800822eec25be39b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.061642043001484126>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.06695177999790758>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0663330659881467>]>", "clientId": {"$oid": "670c2004800822eec25be39b"}}
2024-10-13 16:31:19,993 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 670c2004800822eec25be39b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.061642043001484126>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.06695177999790758>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0663330659881467>]>", "clientId": {"$oid": "670c2004800822eec25be39b"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:19,994 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c2004800822eec25be39b"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"66fde46a73ce2731eb8de63a\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Ha4QKnaR8ylKNPM/MwFZw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847879, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"A5hPr+Sp/UqB8/C92r8vj4d17bM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:20,034 - DEBUG - pymongo.command - {"clientId": {"$oid": "670c2004800822eec25be39b"}, "message": "Command succeeded", "durationMS": 39.806000000000004, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"scoobydoo@gmail.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1728847879, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"A5hPr+Sp/UqB8/C92r8vj4d17bM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1728847879, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 58312, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-13 16:31:20,036 - WARNING - app.config - Caught HTTPException: You have already liked this snap.
2024-10-13 16:31:29,233 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:32,319 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:52,725 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:56,006 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:31:59,985 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:02,504 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:09,837 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:14,046 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:25,214 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:32,839 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:36,101 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:38,505 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:40,580 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:42,954 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:45,617 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:32:54,961 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:00,436 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:02,823 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:04,846 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:09,144 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:11,733 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:15,314 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:17,221 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:28,722 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:30,747 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:41,082 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:51,240 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:33:54,329 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:02,581 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:05,177 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:11,611 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:19,628 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:37,884 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:40,577 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:34:51,827 - INFO - app.config - FastAPI application is starting...
2024-10-13 16:35:39,876 - INFO - app.config - FastAPI application is starting...
2024-10-16 19:53:51,375 - INFO - app.config - FastAPI application is starting...
2024-10-16 19:53:53,182 - INFO - app.config - Request received
2024-10-16 19:53:56,099 - INFO - app.config - Request received
2024-10-16 19:53:56,406 - INFO - app.config - Request received
2024-10-16 19:57:40,641 - INFO - app.config - Request received
2024-10-16 19:57:40,644 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 19:57:40,653 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 19:57:41,258 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 19:57:41,264 - INFO - app.config - User email: roman@gmail.com
2024-10-16 19:57:41,270 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 19:57:41,273 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 19:57:41,841 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 19:57:41,852 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x71efe17a0310>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 671043ffb0f07832a0f75955, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "clientId": {"$oid": "671043ffb0f07832a0f75955"}}
2024-10-16 19:57:41,854 - DEBUG - pymongo.serverSelection - {"message": "Waiting for suitable server to become available", "selector": "<function writable_server_selector at 0x71efe17a0310>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 671043ffb0f07832a0f75955, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "clientId": {"$oid": "671043ffb0f07832a0f75955"}, "remainingTimeMS": 29}
2024-10-16 19:58:12,189 - DEBUG - pymongo.serverSelection - {"message": "Server selection failed", "selector": "<function writable_server_selector at 0x71efe17a0310>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 671043ffb0f07832a0f75955, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>", "clientId": {"$oid": "671043ffb0f07832a0f75955"}, "failure": "\"localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)\""}
2024-10-16 19:58:12,195 - ERROR - app.config - Unhandled exception: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 30s, Topology Description: <TopologyDescription id: 671043ffb0f07832a0f75955, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
2024-10-16 19:59:08,380 - INFO - app.config - FastAPI application is starting...
2024-10-16 19:59:16,239 - INFO - app.config - Request received
2024-10-16 19:59:16,349 - INFO - app.config - Request received
2024-10-16 19:59:41,783 - INFO - app.config - Request received
2024-10-16 19:59:41,785 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 19:59:41,787 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 19:59:42,149 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 19:59:42,155 - INFO - app.config - User email: roman@gmail.com
2024-10-16 19:59:42,161 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 19:59:42,163 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 19:59:43,188 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 19:59:43,193 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038897261095757134>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04433436854468892>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04297642815473956>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}}
2024-10-16 19:59:43,194 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038897261095757134>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04433436854468892>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04297642815473956>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 19:59:43,444 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pkLg1Ka9QvC5OQinNqyd0Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119578, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7xx+os/IBvq5ZYf4TNygvB7Ojvo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"roman@gmail.com\", \"username\": \"boquita\", \"message\": \"#boca campeon\", \"created_at\": {\"$date\": \"2024-10-16T19:59:43.193Z\"}, \"is_private\": true, \"hashtags\": [\"#boca\"], \"_id\": {\"$oid\": \"6710455fb9f95c6c2304be8b\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 19:59:43,494 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command succeeded", "durationMS": 50.734, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729119583, \"i\": 6}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119583, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Wvk2Pg9H+zkOyy3dRLN/pWHul/M=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729119583, \"i\": 6}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 19:59:43,496 - INFO - app.config - Snap created with id 6710455fb9f95c6c2304be8b
2024-10-16 20:00:00,408 - INFO - app.config - Request received
2024-10-16 20:00:00,410 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:00:00,412 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:00:00,786 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:00:00,791 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:00:00,794 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:00:00,797 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:00:01,587 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:00:01,594 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039701130141576293>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04344459014769644>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04151183497970691>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}}
2024-10-16 20:00:01,595 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.039701130141576293>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04344459014769644>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04151183497970691>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:00:01,596 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pkLg1Ka9QvC5OQinNqyd0Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119598, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xyw2YQ2nNjQdTaodPB0gZPJYluo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"roman@gmail.com\", \"username\": \"boquita\", \"message\": \"#boca campeon #gallinasamargas\", \"created_at\": {\"$date\": \"2024-10-16T20:00:01.593Z\"}, \"is_private\": true, \"hashtags\": [\"#boca\", \"#gallinasamargas\"], \"_id\": {\"$oid\": \"67104571b9f95c6c2304be8c\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:00:01,640 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command succeeded", "durationMS": 44.311, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729119601, \"i\": 9}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119601, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KZfy3q9r+ckzjigUcEStzUBug3w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729119601, \"i\": 9}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:00:01,642 - INFO - app.config - Snap created with id 67104571b9f95c6c2304be8c
2024-10-16 20:01:44,968 - INFO - app.config - Request received
2024-10-16 20:01:44,971 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:01:44,973 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:01:45,835 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:01:45,840 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:01:45,843 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:01:45,847 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:01:46,485 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:01:46,492 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04119954475375204>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03886974748312767>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03874129916753214>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}}
2024-10-16 20:01:46,494 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04119954475375204>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03886974748312767>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03874129916753214>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:46,496 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pkLg1Ka9QvC5OQinNqyd0Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119699, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JOt1LwkBDNGu1RA0zysbKQVTUSY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"roman@gmail.com\", \"username\": \"boquita\", \"message\": \"#boca campeon\", \"created_at\": {\"$date\": \"2024-10-16T20:01:46.492Z\"}, \"is_private\": true, \"hashtags\": [\"#boca\"], \"_id\": {\"$oid\": \"671045dab9f95c6c2304be8d\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 135497281, "operationId": 135497281, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:46,546 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command succeeded", "durationMS": 50.649, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729119706, \"i\": 5}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119706, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rYsOgkGL6cI5vVBs4qsKPTS8VVI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729119706, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 135497281, "operationId": 135497281, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:46,548 - INFO - app.config - Snap created with id 671045dab9f95c6c2304be8d
2024-10-16 20:01:56,521 - INFO - app.config - Request received
2024-10-16 20:01:56,522 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:01:56,523 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:01:56,856 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:01:56,862 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:01:56,864 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:01:56,865 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:01:57,432 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:01:57,438 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03949603080387756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038449642787175095>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038022889134190524>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}}
2024-10-16 20:01:57,440 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75867f5943a0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6710453cb9f95c6c2304be8a, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03949603080387756>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038449642787175095>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.038022889134190524>]>", "clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:57,443 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pkLg1Ka9QvC5OQinNqyd0Q==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119708, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"k1Y0qQyrVoFNCi1kC3LsfE1l6oA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"roman@gmail.com\", \"username\": \"boquita\", \"message\": \"#boca villa es cra\", \"created_at\": {\"$date\": \"2024-10-16T20:01:57.437Z\"}, \"is_private\": true, \"hashtags\": [\"#boca\"], \"_id\": {\"$oid\": \"671045e5b9f95c6c2304be8e\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:57,486 - DEBUG - pymongo.command - {"clientId": {"$oid": "6710453cb9f95c6c2304be8a"}, "message": "Command succeeded", "durationMS": 42.958999999999996, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729119717, \"i\": 4}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729119717, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+qn4Rcp8QwuESZnS+9gUNGbVsx0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729119717, \"i\": 4}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 117541, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:01:57,488 - INFO - app.config - Snap created with id 671045e5b9f95c6c2304be8e
2024-10-16 20:30:16,569 - INFO - app.config - FastAPI application is starting...
2024-10-16 20:30:25,198 - INFO - app.config - Request received
2024-10-16 20:30:28,669 - INFO - app.config - Request received
2024-10-16 20:30:28,823 - INFO - app.config - Request received
2024-10-16 20:30:43,100 - INFO - app.config - Request received
2024-10-16 20:30:43,101 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:30:43,106 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:31:24,584 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:31:24,590 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:31:24,593 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:32:16,386 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:32:16,394 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:32:16,397 - INFO - app.config - Getting followed users
2024-10-16 20:32:16,401 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:32:17,128 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:32:17,134 - INFO - app.config - Fetching snaps for followed users: []
2024-10-16 20:32:17,135 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104c88796727424b1bf8f3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03944378731459048>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041719762138724754>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04148096412591482>]>", "clientId": {"$oid": "67104c88796727424b1bf8f3"}}
2024-10-16 20:32:17,138 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104c88796727424b1bf8f3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03944378731459048>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041719762138724754>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04148096412591482>]>", "clientId": {"$oid": "67104c88796727424b1bf8f3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:32:17,761 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104c88796727424b1bf8f3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"D1ySqDLWQ3KgkEdB477dug==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121537, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6W8O3hhgWTiRcdlWXn7Eta3iTJE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 117878, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:32:17,804 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104c88796727424b1bf8f3"}, "message": "Command succeeded", "durationMS": 43.262, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121537, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6W8O3hhgWTiRcdlWXn7Eta3iTJE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121537, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 149798315, "operationId": 149798315, "driverConnectionId": 1, "serverConnectionId": 117878, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:32:17,807 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:32:17,808 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:32:17,811 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:32:18,437 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:32:18,444 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104c88796727424b1bf8f3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03944378731459048>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041719762138724754>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04148096412591482>]>", "clientId": {"$oid": "67104c88796727424b1bf8f3"}}
2024-10-16 20:32:18,446 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104c88796727424b1bf8f3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03944378731459048>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.041719762138724754>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04148096412591482>]>", "clientId": {"$oid": "67104c88796727424b1bf8f3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:32:18,448 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104c88796727424b1bf8f3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#string\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"D1ySqDLWQ3KgkEdB477dug==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121537, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6W8O3hhgWTiRcdlWXn7Eta3iTJE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 117878, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:32:18,485 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104c88796727424b1bf8f3"}, "message": "Command succeeded", "durationMS": 37.729, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121538, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8/i7i9RoKx4Vg+wulf8UNQJp7to=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121538, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 117878, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:04,921 - INFO - app.config - FastAPI application is starting...
2024-10-16 20:38:20,479 - INFO - app.config - Request received
2024-10-16 20:38:20,482 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImdhbGxhcmRvQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwODE0OCwiaWF0IjoxNzI5MTIxNzQ4fQ.YkxCW_TYDZsOpyNRIBDyP1oSDqS0L5BVbzL4SxGBLjU
2024-10-16 20:38:20,483 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:38:21,134 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:38:21,138 - INFO - app.config - Getting profile by email gallardo@gmail.com
2024-10-16 20:38:21,142 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:38:21,678 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=gallardo@gmail.com HTTP/1.1" 200 None
2024-10-16 20:38:21,683 - INFO - app.config - User email: gallardo@gmail.com
2024-10-16 20:38:21,690 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75e91d8a81f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03344171880162321>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03690126120200148>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040956488004303536>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:38:21,691 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75e91d8a81f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03344171880162321>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03690126120200148>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.040956488004303536>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:21,969 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121895, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"RBRyaoAGSID1u8C9ayqg5vwigCQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"], \"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:22,015 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 45.875, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729121901, \"i\": 12}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121901, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"EITb/07b5oDDaaHwN+Sr8uELnMI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121901, \"i\": 12}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:22,017 - INFO - app.config - Snap created with id 67104e6d4b3cba650b712e17
2024-10-16 20:38:57,047 - INFO - app.config - Request received
2024-10-16 20:38:57,049 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:38:57,051 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:38:57,468 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:38:57,471 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:38:57,474 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:38:58,063 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:38:58,068 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:38:58,070 - INFO - app.config - Getting followed users
2024-10-16 20:38:58,074 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:38:58,799 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:38:58,803 - INFO - app.config - Fetching snaps for followed users: []
2024-10-16 20:38:58,804 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03685150565681281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04469532002757071>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04274453854279361>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:38:58,806 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03685150565681281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04469532002757071>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04274453854279361>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:58,807 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121935, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/QSZ1PHGOJVuCYeexrbjVE/d870=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:58,843 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 36.422999999999995, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121938, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Sm8/OEzMluyXesU48D6/mp11BD0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121938, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:58,845 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:38:58,845 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:38:58,848 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:38:59,392 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:38:59,394 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03685150565681281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04469532002757071>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04274453854279361>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:38:59,395 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03685150565681281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04469532002757071>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04274453854279361>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:59,396 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121938, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Sm8/OEzMluyXesU48D6/mp11BD0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:38:59,444 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 48.257, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121939, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ckL2onrnGFe4zh70Ef2OpxYCpwE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121939, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:25,710 - INFO - app.config - Request received
2024-10-16 20:39:25,712 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImdhbGxhcmRvQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwODE0OCwiaWF0IjoxNzI5MTIxNzQ4fQ.YkxCW_TYDZsOpyNRIBDyP1oSDqS0L5BVbzL4SxGBLjU
2024-10-16 20:39:25,714 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:39:26,097 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:39:26,100 - INFO - app.config - Getting profile by email gallardo@gmail.com
2024-10-16 20:39:26,102 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:39:26,693 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=gallardo@gmail.com HTTP/1.1" 200 None
2024-10-16 20:39:26,698 - INFO - app.config - User email: gallardo@gmail.com
2024-10-16 20:39:26,701 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75e91d8a81f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0407941485108895>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04850258126237129>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04019404305399907>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:39:26,703 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75e91d8a81f0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0407941485108895>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04850258126237129>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04019404305399907>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:26,704 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121965, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VlJ4mFtjwp8WEWgc3Oj8d8lSK/k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"como juega messi #Futbol\", \"created_at\": {\"$date\": \"2024-10-16T20:39:26.701Z\"}, \"hashtags\": [\"#futbol\"], \"_id\": {\"$oid\": \"67104eae4b3cba650b712e18\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1656478042, "operationId": 1656478042, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:26,749 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 44.935, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000063\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1729121966, \"i\": 8}}, \"t\": 99}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121966, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"2roI9V7JoVMm73QM5fR8dwy/ehQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121966, \"i\": 8}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1656478042, "operationId": 1656478042, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:26,751 - INFO - app.config - Snap created with id 67104eae4b3cba650b712e18
2024-10-16 20:39:34,026 - INFO - app.config - Request received
2024-10-16 20:39:34,028 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:39:34,029 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:39:34,386 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:39:34,389 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:39:34,390 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:39:34,910 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:39:34,913 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:39:34,914 - INFO - app.config - Getting followed users
2024-10-16 20:39:34,915 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:39:35,586 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:39:35,592 - INFO - app.config - Fetching snaps for followed users: []
2024-10-16 20:39:35,593 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03995021940859733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045824473609629476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03953330964228454>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:39:35,594 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03995021940859733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045824473609629476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03953330964228454>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:35,596 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121975, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Cm3dnVIpQN85tGvR0y0DSKbxQJc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1131176229, "operationId": 1131176229, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:35,634 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 38.324999999999996, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121975, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Cm3dnVIpQN85tGvR0y0DSKbxQJc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121975, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1131176229, "operationId": 1131176229, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:35,636 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:39:35,637 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:39:35,641 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:39:36,426 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:39:36,429 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03995021940859733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045824473609629476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03953330964228454>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:39:36,429 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03995021940859733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.045824473609629476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03953330964228454>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:36,430 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121975, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Cm3dnVIpQN85tGvR0y0DSKbxQJc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 608413784, "operationId": 608413784, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:39:36,468 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 37.746, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729121976, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jd1zYPJ6GrwQXplw2PMeGiAof9Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729121976, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 608413784, "operationId": 608413784, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:42,708 - INFO - app.config - Request received
2024-10-16 20:40:42,709 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:40:42,710 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:40:43,095 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:40:43,099 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:40:43,100 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:40:43,619 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:40:43,624 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:40:43,627 - INFO - app.config - Getting followed users
2024-10-16 20:40:43,630 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:40:44,399 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:40:44,404 - INFO - app.config - Fetching snaps for followed users: ['gallardo@gmail.com']
2024-10-16 20:40:44,405 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03933861800615308>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043698236518620086>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03848445157825453>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:40:44,406 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03933861800615308>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043698236518620086>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03848445157825453>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:44,407 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"gallardo@gmail.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122035, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"XPFoIpcVi17Y6EJR2wqPMImn4RI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:44,443 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 36.505, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104eae4b3cba650b712e18\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"como juega messi #Futbol\", \"created_at\": {\"$date\": \"2024-10-16T20:39:26.701Z\"}, \"hashtags\": [\"#futbol\"]}, {\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122044, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"87xwGlRuMKmdb8Sx1qk7OeN3tv8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122044, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:44,446 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:40:44,446 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:40:44,451 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:40:44,996 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:40:45,005 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03933861800615308>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043698236518620086>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03848445157825453>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}}
2024-10-16 20:40:45,008 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104e5c4b3cba650b712e16, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03933861800615308>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.043698236518620086>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03848445157825453>]>", "clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:45,010 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PXAkUv2dRK+o+Dq+k8i6Yg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122044, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"87xwGlRuMKmdb8Sx1qk7OeN3tv8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:40:45,051 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104e5c4b3cba650b712e16"}, "message": "Command succeeded", "durationMS": 40.734, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122044, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"87xwGlRuMKmdb8Sx1qk7OeN3tv8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122044, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 117798, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:35,113 - INFO - app.config - FastAPI application is starting...
2024-10-16 20:41:38,270 - INFO - app.config - Request received
2024-10-16 20:41:38,272 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:41:38,274 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:41:38,723 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:41:38,726 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:41:38,729 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:41:39,490 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:41:39,493 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:41:39,494 - INFO - app.config - Getting followed users
2024-10-16 20:41:39,496 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:41:40,252 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:41:40,262 - INFO - app.config - Fetching snaps for followed users: ['gallardo@gmail.com']
2024-10-16 20:41:40,264 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f2ff72b29f3a77835a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04206755299674114>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03669084700231906>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.042492309999943245>]>", "clientId": {"$oid": "67104f2ff72b29f3a77835a4"}}
2024-10-16 20:41:40,267 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f2ff72b29f3a77835a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04206755299674114>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03669084700231906>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.042492309999943245>]>", "clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:40,544 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"gallardo@gmail.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"V5e4Yiu9QcGez0UzJwer0A==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122095, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"p8FHS8+9T27emIK8QxvLWzRbIxI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117958, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:40,580 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "message": "Command succeeded", "durationMS": 36.339999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104eae4b3cba650b712e18\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"como juega messi #Futbol\", \"created_at\": {\"$date\": \"2024-10-16T20:39:26.701Z\"}, \"hashtags\": [\"#futbol\"]}, {\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122100, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"87iCsbZtehn37bxsPNUukcQBMkE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122100, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117958, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:40,581 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:41:40,582 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:41:40,583 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:41:41,144 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:41:41,151 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f2ff72b29f3a77835a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04206755299674114>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03669084700231906>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.042492309999943245>]>", "clientId": {"$oid": "67104f2ff72b29f3a77835a4"}}
2024-10-16 20:41:41,153 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f2ff72b29f3a77835a4, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04206755299674114>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03669084700231906>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.042492309999943245>]>", "clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:41,154 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"V5e4Yiu9QcGez0UzJwer0A==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122100, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"87iCsbZtehn37bxsPNUukcQBMkE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117958, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:41,191 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f2ff72b29f3a77835a4"}, "message": "Command succeeded", "durationMS": 37.019000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122101, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"pDPRuJhmtf1JIA2prEB18kOe/OE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122101, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117958, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:41:41,194 - ERROR - app.config - Unhandled exception: unhashable type: 'list'
2024-10-16 20:43:01,842 - INFO - app.config - FastAPI application is starting...
2024-10-16 20:43:08,108 - INFO - app.config - Request received
2024-10-16 20:43:08,109 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:43:08,111 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:43:08,532 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:43:08,535 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:43:08,536 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:43:09,073 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:43:09,078 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:43:09,081 - INFO - app.config - Getting followed users
2024-10-16 20:43:09,085 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:43:09,839 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:43:09,846 - INFO - app.config - Fetching snaps for followed users: ['gallardo@gmail.com']
2024-10-16 20:43:09,847 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f8521dc37d17733764b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04045694600063143>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039037763002852444>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03557983200153103>]>", "clientId": {"$oid": "67104f8521dc37d17733764b"}}
2024-10-16 20:43:09,849 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f8521dc37d17733764b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04045694600063143>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039037763002852444>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03557983200153103>]>", "clientId": {"$oid": "67104f8521dc37d17733764b"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:43:10,100 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f8521dc37d17733764b"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"gallardo@gmail.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"s7/o8b/bRUSW8+2l13ogPg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122182, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OZp/pcB0UtwWUVyra6tHIydgLbQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117972, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:43:10,165 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f8521dc37d17733764b"}, "message": "Command succeeded", "durationMS": 65.591, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104eae4b3cba650b712e18\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"como juega messi #Futbol\", \"created_at\": {\"$date\": \"2024-10-16T20:39:26.701Z\"}, \"hashtags\": [\"#futbol\"]}, {\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122190, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wmL6eZcDA1bJZcBmuG4w1t5jHP8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122190, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117972, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:43:10,176 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:43:10,177 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:43:10,190 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:43:10,727 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:43:10,732 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f8521dc37d17733764b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04045694600063143>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039037763002852444>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03557983200153103>]>", "clientId": {"$oid": "67104f8521dc37d17733764b"}}
2024-10-16 20:43:10,734 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104f8521dc37d17733764b, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04045694600063143>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.039037763002852444>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03557983200153103>]>", "clientId": {"$oid": "67104f8521dc37d17733764b"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:43:10,735 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f8521dc37d17733764b"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"s7/o8b/bRUSW8+2l13ogPg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122190, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wmL6eZcDA1bJZcBmuG4w1t5jHP8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117972, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:43:10,772 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104f8521dc37d17733764b"}, "message": "Command succeeded", "durationMS": 37.613, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122190, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"wmL6eZcDA1bJZcBmuG4w1t5jHP8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122190, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117972, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:27,058 - INFO - app.config - FastAPI application is starting...
2024-10-16 20:44:31,295 - INFO - app.config - Request received
2024-10-16 20:44:31,297 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InJvbWFuQGdtYWlsLmNvbSIsImV4cCI6MTcyOTIwNTc0MSwiaWF0IjoxNzI5MTE5MzQxfQ.hqmgFJr1Zcs5dZD69XnzgC3I-g--_iDG0ymxFj_yMMM
2024-10-16 20:44:31,300 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-10-16 20:44:32,134 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-10-16 20:44:32,137 - INFO - app.config - Getting profile by email roman@gmail.com
2024-10-16 20:44:32,138 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:44:32,703 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=roman@gmail.com HTTP/1.1" 200 None
2024-10-16 20:44:32,705 - INFO - app.config - User email: roman@gmail.com
2024-10-16 20:44:32,706 - INFO - app.config - Getting followed users
2024-10-16 20:44:32,707 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:44:33,506 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=boquita HTTP/1.1" 200 None
2024-10-16 20:44:33,510 - INFO - app.config - Fetching snaps for followed users: ['gallardo@gmail.com']
2024-10-16 20:44:33,510 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104fdb00c7e0a68c09d601, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033906512006069534>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04622356199979549>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04280868599744281>]>", "clientId": {"$oid": "67104fdb00c7e0a68c09d601"}}
2024-10-16 20:44:33,511 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104fdb00c7e0a68c09d601, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033906512006069534>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04622356199979549>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04280868599744281>]>", "clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:33,772 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"gallardo@gmail.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"nB4mW7iZQkCp9b/1QVKIvQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122267, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oDdtFeyBE9ij/FJX6VtKQdP7Izs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117977, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:33,812 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "message": "Command succeeded", "durationMS": 39.9, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104eae4b3cba650b712e18\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"como juega messi #Futbol\", \"created_at\": {\"$date\": \"2024-10-16T20:39:26.701Z\"}, \"hashtags\": [\"#futbol\"]}, {\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122273, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Tx5owLcbYDvuROcBqAgd6KzmvDM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122273, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 117977, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:33,814 - INFO - app.config - Retrieved snaps from followed users
2024-10-16 20:44:33,814 - INFO - app.config - Getting profile by username boquita
2024-10-16 20:44:33,818 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-10-16 20:44:34,387 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=boquita HTTP/1.1" 200 None
2024-10-16 20:44:34,392 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104fdb00c7e0a68c09d601, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033906512006069534>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04622356199979549>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04280868599744281>]>", "clientId": {"$oid": "67104fdb00c7e0a68c09d601"}}
2024-10-16 20:44:34,394 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67104fdb00c7e0a68c09d601, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033906512006069534>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.04622356199979549>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04280868599744281>]>", "clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:34,395 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#politica\"]}}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"nB4mW7iZQkCp9b/1QVKIvQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122273, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Tx5owLcbYDvuROcBqAgd6KzmvDM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117977, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-16 20:44:34,431 - DEBUG - pymongo.command - {"clientId": {"$oid": "67104fdb00c7e0a68c09d601"}, "message": "Command succeeded", "durationMS": 35.998000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67104e6d4b3cba650b712e17\"}, \"email\": \"gallardo@gmail.com\", \"username\": \"river\", \"message\": \"macri gatooo #Politica\", \"created_at\": {\"$date\": \"2024-10-16T20:38:21.689Z\"}, \"hashtags\": [\"#politica\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1729122274, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"1u7r3CvaIrLWfNgBoDIJ/e3XYVg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1729122274, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 117977, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-30 18:21:19,859 - INFO - app.config - FastAPI application is starting...
2024-10-30 18:21:22,798 - INFO - app.config - Request received
2024-10-30 18:21:22,872 - INFO - app.config - Request received
2024-10-30 18:21:25,427 - INFO - app.config - Request received
2024-10-30 18:21:25,927 - INFO - app.config - Request received
2024-10-30 18:35:00,035 - INFO - app.config - FastAPI application is starting...
2024-10-30 18:35:04,368 - INFO - app.config - Request received
2024-10-30 18:35:04,497 - INFO - app.config - Request received
2024-10-30 18:35:09,102 - INFO - app.config - Request received
2024-10-30 18:35:09,103 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6722a68363fa36baa5730e67, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04616332800287637>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03595935100020142>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.047429416998056695>]>", "clientId": {"$oid": "6722a68363fa36baa5730e67"}}
2024-10-30 18:35:09,104 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6722a68363fa36baa5730e67, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.04616332800287637>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03595935100020142>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.047429416998056695>]>", "clientId": {"$oid": "6722a68363fa36baa5730e67"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-30 18:35:09,357 - DEBUG - pymongo.command - {"clientId": {"$oid": "6722a68363fa36baa5730e67"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-29T18:35:09.103Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"n06QTmWhQ4Gg/H6xe1Srxw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730324100, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jl1X2rZzEaXswRE7xQCVAweX3qI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 45513, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-10-30 18:35:09,396 - DEBUG - pymongo.command - {"clientId": {"$oid": "6722a68363fa36baa5730e67"}, "message": "Command succeeded", "durationMS": 38.461000000000006, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730324109, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ac33HODiDnyMp9gS1Lv9C/x7ZK4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730324109, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 45513, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:24:43,537 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:24:57,464 - INFO - app.config - Request received
2024-11-01 17:24:57,497 - INFO - app.config - Request received
2024-11-01 17:25:01,762 - INFO - app.config - Request received
2024-11-01 17:25:02,091 - INFO - app.config - Request received
2024-11-01 17:25:21,225 - INFO - app.config - Request received
2024-11-01 17:25:21,227 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07106284060806502>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09115600056643598>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09086099635472057>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:21,227 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07106284060806502>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09115600056643598>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09086099635472057>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:21,719 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:25:21.226Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492714, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8ok95xOvT9jsrQrVwVua4WAPQ1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:21,822 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 103.241, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492721, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4OlnZOC03B5zap+g7PsPPKP3yDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492721, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:44,672 - INFO - app.config - Request received
2024-11-01 17:25:44,673 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA1NzgxMzQsImlhdCI6MTczMDQ5MTczNH0.t908Y6AknkT9r9uF_gqMgyZEsUwuBrFVcse4KAHOgGk
2024-11-01 17:25:44,675 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-01 17:25:45,374 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-01 17:25:45,378 - INFO - app.config - Getting profile by email test@example.com
2024-11-01 17:25:45,380 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-01 17:25:45,865 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-01 17:25:45,871 - INFO - app.config - User email: test@example.com
2024-11-01 17:25:45,879 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7cb251e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:45,881 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7cb251e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:45,882 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492744, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"m8/OcJCMHX5JV2Ul6AjCJ3cYu14=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1801979802, "operationId": 1801979802, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:45,988 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 106.02000000000001, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730492745, \"i\": 11}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492745, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YBYd93lGz3UF9OYGrTvizfuUr84=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492745, \"i\": 11}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1801979802, "operationId": 1801979802, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:45,989 - INFO - app.config - Snap created with id 672539498d7d4c8b09f2f5fe
2024-11-01 17:25:50,556 - INFO - app.config - Request received
2024-11-01 17:25:50,557 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:50,558 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:50,558 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:25:50.557Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492745, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YBYd93lGz3UF9OYGrTvizfuUr84=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1315634022, "operationId": 1315634022, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:50,700 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 142.508, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ec0MmQR+e6ZOcIwInCMbOxUee5E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1315634022, "operationId": 1315634022, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:50,701 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:50,702 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:50,702 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ec0MmQR+e6ZOcIwInCMbOxUee5E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 635723058, "operationId": 635723058, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:50,802 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 100.075, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ec0MmQR+e6ZOcIwInCMbOxUee5E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 635723058, "operationId": 635723058, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,519 - INFO - app.config - Request received
2024-11-01 17:25:52,520 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:52,520 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,520 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:25:52.520Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492750, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ec0MmQR+e6ZOcIwInCMbOxUee5E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1369133069, "operationId": 1369133069, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,643 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 122.39800000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492752, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SiKR51vHqaTFH0EmBBsHGV/qiz0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492752, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1369133069, "operationId": 1369133069, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,645 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:25:52,647 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09875459462421016>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10898411501192119>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10890040929421226>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,648 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492752, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SiKR51vHqaTFH0EmBBsHGV/qiz0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:25:52,747 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 99.25200000000001, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492752, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"SiKR51vHqaTFH0EmBBsHGV/qiz0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492752, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,852 - INFO - app.config - Request received
2024-11-01 17:26:44,852 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08941455650419822>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11976462472121228>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10566454506109127>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:26:44,853 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08941455650419822>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11976462472121228>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10566454506109127>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,853 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:26:44.852Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LhrsD1s27o7jwz/Y7SdP1N6Mua0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 184803526, "operationId": 184803526, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,889 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 36.03, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LhrsD1s27o7jwz/Y7SdP1N6Mua0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 184803526, "operationId": 184803526, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,890 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08941455650419822>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11976462472121228>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10566454506109127>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:26:44,890 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08941455650419822>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11976462472121228>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10566454506109127>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,890 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LhrsD1s27o7jwz/Y7SdP1N6Mua0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 412776091, "operationId": 412776091, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:26:44,926 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 36.034, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LhrsD1s27o7jwz/Y7SdP1N6Mua0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492804, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 412776091, "operationId": 412776091, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:25,306 - INFO - app.config - Request received
2024-11-01 17:27:25,307 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA1NzgxMzQsImlhdCI6MTczMDQ5MTczNH0.t908Y6AknkT9r9uF_gqMgyZEsUwuBrFVcse4KAHOgGk
2024-11-01 17:27:25,308 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-01 17:27:26,243 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-01 17:27:26,248 - INFO - app.config - Getting profile by email test@example.com
2024-11-01 17:27:26,253 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-01 17:27:26,860 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-01 17:27:26,865 - INFO - app.config - User email: test@example.com
2024-11-01 17:27:26,869 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7cb251e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:27:26,871 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7cb251e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:26,872 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492844, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9SBPfxKl55FChgLDB9LCi0yflVU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"], \"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:26,959 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 87.33, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730492846, \"i\": 11}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492846, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r1RA/32eYArZk4+34m9PPchlWYc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492846, \"i\": 11}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:26,961 - INFO - app.config - Snap created with id 672539ae8d7d4c8b09f2f5ff
2024-11-01 17:27:30,516 - INFO - app.config - Request received
2024-11-01 17:27:30,516 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:27:30,517 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,517 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:27:30.516Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492846, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"r1RA/32eYArZk4+34m9PPchlWYc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,645 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 128.465, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M7hasCE5fsPXRryOTeJ2yjg9t7o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,647 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:27:30,649 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,650 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M7hasCE5fsPXRryOTeJ2yjg9t7o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,747 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 97.307, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M7hasCE5fsPXRryOTeJ2yjg9t7o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,748 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}}
2024-11-01 17:27:30,749 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6725390b8d7d4c8b09f2f5fd, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.08100396563435909>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0862741366240948>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07909206651191451>]>", "clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,749 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"8jdmF2JvSSuShPY4pzOUow==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M7hasCE5fsPXRryOTeJ2yjg9t7o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:27:30,851 - DEBUG - pymongo.command - {"clientId": {"$oid": "6725390b8d7d4c8b09f2f5fd"}, "message": "Command succeeded", "durationMS": 101.61399999999999, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"M7hasCE5fsPXRryOTeJ2yjg9t7o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492850, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 82460, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:07,743 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:28:11,588 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:28:13,669 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:28:24,236 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:28:35,920 - INFO - app.config - Request received
2024-11-01 17:28:49,938 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}}
2024-11-01 17:28:49,938 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:49,939 - INFO - app.config - Request received
2024-11-01 17:28:50,155 - INFO - app.config - Request received
2024-11-01 17:28:50,263 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:28:49.938Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"H/04JpR7SweS2C1OWiFXdw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492923, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JF2mQnJspoPppUrBjoUg5I3Ubzo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,298 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command succeeded", "durationMS": 35.527, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jJMql/ccWE7qjvE0ktghbF5jk1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,299 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}}
2024-11-01 17:28:50,299 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,299 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"H/04JpR7SweS2C1OWiFXdw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jJMql/ccWE7qjvE0ktghbF5jk1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,335 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command succeeded", "durationMS": 36.016, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jJMql/ccWE7qjvE0ktghbF5jk1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,336 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}}
2024-11-01 17:28:50,336 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672539e8a17f31dce57e33e3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07189679604314733>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.08040846247866285>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.07182959967933131>]>", "clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,336 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"H/04JpR7SweS2C1OWiFXdw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jJMql/ccWE7qjvE0ktghbF5jk1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:50,372 - DEBUG - pymongo.command - {"clientId": {"$oid": "672539e8a17f31dce57e33e3"}, "message": "Command succeeded", "durationMS": 35.527, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"jJMql/ccWE7qjvE0ktghbF5jk1c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492930, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 82565, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:28:54,510 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:28:56,520 - INFO - app.config - Request received
2024-11-01 17:28:56,584 - INFO - app.config - Request received
2024-11-01 17:29:00,708 - INFO - app.config - Request received
2024-11-01 17:29:00,709 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10392518699518405>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10606700798962265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10483292999560945>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:00,710 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10392518699518405>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10606700798962265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10483292999560945>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,146 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:29:00.709Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492944, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"3FcvvGdanbAqiHoMCIRoDwYyJQ8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,215 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 69.16799999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oxYllFq5VR+1iQQXzG65I9FRVmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,217 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1037799075973453>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10553309479146265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10447459459537642>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:06,218 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1037799075973453>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10553309479146265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10447459459537642>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,220 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oxYllFq5VR+1iQQXzG65I9FRVmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,293 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 73.173, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oxYllFq5VR+1iQQXzG65I9FRVmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,295 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1037799075973453>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10553309479146265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10447459459537642>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:06,296 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1037799075973453>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10553309479146265>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10447459459537642>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,297 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oxYllFq5VR+1iQQXzG65I9FRVmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:06,396 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 98.83200000000001, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"oxYllFq5VR+1iQQXzG65I9FRVmI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492946, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:33,249 - INFO - app.config - Request received
2024-11-01 17:29:33,251 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA1NzgxMzQsImlhdCI6MTczMDQ5MTczNH0.t908Y6AknkT9r9uF_gqMgyZEsUwuBrFVcse4KAHOgGk
2024-11-01 17:29:33,252 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-01 17:29:33,568 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-01 17:29:33,571 - INFO - app.config - Getting profile by email test@example.com
2024-11-01 17:29:33,572 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-01 17:29:33,983 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-01 17:29:33,985 - INFO - app.config - User email: test@example.com
2024-11-01 17:29:33,988 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09556234490172938>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09673054330423476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09620341790013483>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:33,989 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09556234490172938>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09673054330423476>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09620341790013483>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:33,990 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492964, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sQ9c+1vp6Pbbm2zPYyXYUqhJw/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #riquelme\", \"created_at\": {\"$date\": \"2024-11-01T17:29:33.988Z\"}, \"is_private\": true, \"hashtags\": [\"#riquelme\"], \"_id\": {\"$oid\": \"67253a2d62be19adfbd4f82e\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:34,146 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 156.279, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730492974, \"i\": 1}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492974, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZH3kijYgv07QElSTEz5znpn5P0o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492974, \"i\": 1}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:34,148 - INFO - app.config - Snap created with id 67253a2d62be19adfbd4f82e
2024-11-01 17:29:38,881 - INFO - app.config - Request received
2024-11-01 17:29:38,882 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:38,882 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:38,882 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:29:38.881Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492974, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZH3kijYgv07QElSTEz5znpn5P0o=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:38,955 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 72.59400000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67253a2d62be19adfbd4f82e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #riquelme\", \"created_at\": {\"$date\": \"2024-11-01T17:29:33.988Z\"}, \"is_private\": true, \"hashtags\": [\"#riquelme\"]}, {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zS6Q+qKXgiS4+9X1CYTJp/BuR30=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2145174067, "operationId": 2145174067, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:38,958 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:38,959 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:38,961 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"67253a2d62be19adfbd4f82e\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zS6Q+qKXgiS4+9X1CYTJp/BuR30=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,063 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 102.184, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zS6Q+qKXgiS4+9X1CYTJp/BuR30=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 468703135, "operationId": 468703135, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,065 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:39,066 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,068 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492978, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zS6Q+qKXgiS4+9X1CYTJp/BuR30=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,129 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 61.614000000000004, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492979, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"I2vACyHVqoQuMJdFUEMXtmM5yW8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492979, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1101513929, "operationId": 1101513929, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,132 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:29:39,133 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10285106852315368>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10365483184293846>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10307433291818016>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,134 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492979, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"I2vACyHVqoQuMJdFUEMXtmM5yW8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1801979802, "operationId": 1801979802, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:29:39,262 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 128.229, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730492979, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"I2vACyHVqoQuMJdFUEMXtmM5yW8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730492979, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1801979802, "operationId": 1801979802, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:47,871 - INFO - app.config - Request received
2024-11-01 17:30:47,871 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA1NzgxMzQsImlhdCI6MTczMDQ5MTczNH0.t908Y6AknkT9r9uF_gqMgyZEsUwuBrFVcse4KAHOgGk
2024-11-01 17:30:47,872 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-01 17:30:48,230 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-01 17:30:48,233 - INFO - app.config - Getting profile by email test@example.com
2024-11-01 17:30:48,234 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-01 17:30:49,203 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-01 17:30:49,208 - INFO - app.config - User email: test@example.com
2024-11-01 17:30:49,211 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:49,213 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,215 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493044, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"EphgNoAwqxukdYoZx9mERwdLhUw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,310 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 95.571, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,310 - INFO - app.config - Snap with id 672539ae8d7d4c8b09f2f5ff retrieved
2024-11-01 17:30:49,311 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:49,311 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,312 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,412 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 100.612, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,414 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:49,416 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,417 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 749241873, "operationId": 749241873, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,510 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 92.565, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 749241873, "operationId": 749241873, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,511 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:49,512 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,513 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"insert\": \"likes\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\", \"email\": \"test@example.com\", \"_id\": {\"$oid\": \"67253a7962be19adfbd4f82f\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 137806862, "operationId": 137806862, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,613 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 100.263, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 7}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 7}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 137806862, "operationId": 137806862, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,615 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:49,617 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "update", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09823623933016028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.09855899702282034>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.09828656330520694>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,618 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"update\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"txnNumber\": 3, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"updates\": [{\"q\": {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}}, \"u\": {\"$inc\": {\"likes\": 1}}}]}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 42999170, "operationId": 42999170, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:49,719 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 100.87899999999999, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 9}}, \"t\": 103}, \"nModified\": 1, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/FADk0CCfvOEb7Se8HPl0dWYp/g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493049, \"i\": 9}}}", "commandName": "update", "databaseName": "twitsnaps", "requestId": 42999170, "operationId": 42999170, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:59,986 - INFO - app.config - Request received
2024-11-01 17:30:59,987 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:30:59,987 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:30:59,987 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:30:59.986Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493054, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"YezmFBWCG2xtw3sJq258/IglkGk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2084420925, "operationId": 2084420925, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,063 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 75.271, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67253a2d62be19adfbd4f82e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #riquelme\", \"created_at\": {\"$date\": \"2024-11-01T17:29:33.988Z\"}, \"is_private\": true, \"hashtags\": [\"#riquelme\"]}, {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"], \"likes\": 1}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\":...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2084420925, "operationId": 2084420925, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,069 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:00,070 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,070 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"67253a2d62be19adfbd4f82e\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,135 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 64.652, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,137 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:00,138 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,139 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,197 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 58.327999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"test@example.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,200 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:00,201 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10385887106567479>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.10413571381689045>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.10393180024418468>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,203 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493059, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"j0r1B6TN/JTBdUJQ+PI/qu28cIU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:00,266 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 63.894000000000005, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493060, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sCDorcKyTd2EMX6iZJz8Qxk8eKQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493060, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:17,110 - INFO - app.config - Request received
2024-11-01 17:31:17,111 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA1NzgxMzQsImlhdCI6MTczMDQ5MTczNH0.t908Y6AknkT9r9uF_gqMgyZEsUwuBrFVcse4KAHOgGk
2024-11-01 17:31:17,112 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-01 17:31:17,470 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-01 17:31:17,472 - INFO - app.config - Getting profile by email test@example.com
2024-11-01 17:31:17,473 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-01 17:31:17,880 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-01 17:31:17,884 - INFO - app.config - User email: test@example.com
2024-11-01 17:31:17,886 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:17,886 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7e0a43c5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:17,887 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"txnNumber\": 4, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493074, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WTpUGzi+d0nmyrVU9IZVauGdrFM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #juanfer\", \"created_at\": {\"$date\": \"2024-11-01T17:31:17.886Z\"}, \"is_private\": true, \"hashtags\": [\"#juanfer\"], \"_id\": {\"$oid\": \"67253a9562be19adfbd4f830\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:17,979 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 91.80000000000001, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730493077, \"i\": 8}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493077, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"eyPMLNyjjuSa1daaXkrjw6yyBKg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493077, \"i\": 8}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 84353895, "operationId": 84353895, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:17,980 - INFO - app.config - Snap created with id 67253a9562be19adfbd4f830
2024-11-01 17:31:21,496 - INFO - app.config - Request received
2024-11-01 17:31:21,496 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:21,497 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,497 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"created_at\": {\"$gte\": {\"$date\": \"2024-10-31T17:31:21.496Z\"}}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493077, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"eyPMLNyjjuSa1daaXkrjw6yyBKg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 939819582, "operationId": 939819582, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,562 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 64.837, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67253a9562be19adfbd4f830\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #juanfer\", \"created_at\": {\"$date\": \"2024-11-01T17:31:17.886Z\"}, \"is_private\": true, \"hashtags\": [\"#juanfer\"]}, {\"_id\": {\"$oid\": \"67253a2d62be19adfbd4f82e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #riquelme\", \"created_at\": {\"$date\": \"2024-11-01T17:29:33.988Z\"}, \"is_private\": true, \"hashtags\": [\"#riquelme\"]}, {\"_id\": {\"$oid\": \"672539ae8d7d4c8b09f2f5ff\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #messi\", \"created_at\": {\"$date\": \"2024-11-01T17:27:26.868Z\"}, \"is_private\": true, \"hashtags\": [\"#messi\"], \"likes\": 1}, {\"_id\": {\"$oid\": \"672539498d7d4c8b09f2f5fe\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante messi\", \"created_at\": {\"$date\": \"2024-11-01T17:25:45.878Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterT...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 939819582, "operationId": 939819582, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,563 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:21,564 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,564 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"67253a9562be19adfbd4f830\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,664 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 99.84, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2001100545, "operationId": 2001100545, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,666 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:21,667 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,668 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"67253a2d62be19adfbd4f82e\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1998898814, "operationId": 1998898814, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,771 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 103.007, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1998898814, "operationId": 1998898814, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,772 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:21,773 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,774 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539ae8d7d4c8b09f2f5ff\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1548233367, "operationId": 1548233367, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,873 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 98.747, "reply": "{\"cursor\": {\"firstBatch\": [{\"email\": \"test@example.com\"}], \"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1548233367, "operationId": 1548233367, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}}
2024-11-01 17:31:21,875 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67253a0662be19adfbd4f82d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.11148864376149012>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.11145242668072747>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.1115008032357865>]>", "clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,876 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command started", "command": "{\"find\": \"likes\", \"filter\": {\"snap_id\": \"672539498d7d4c8b09f2f5fe\"}, \"projection\": {\"email\": 1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"RMqjloMySgeoZHMhqr5tZg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 610515434, "operationId": 610515434, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:21,940 - DEBUG - pymongo.command - {"clientId": {"$oid": "67253a0662be19adfbd4f82d"}, "message": "Command succeeded", "durationMS": 63.96300000000001, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.likes\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"QP2dlS8yRCDU1skclb8PeiApGkY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730493081, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 610515434, "operationId": 610515434, "driverConnectionId": 1, "serverConnectionId": 82523, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-01 17:31:52,369 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:31:54,006 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:31:58,210 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:01,650 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:04,435 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:06,660 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:08,331 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:11,504 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:13,849 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:52,937 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:54,871 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:32:59,137 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:00,915 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:05,657 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:11,671 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:15,875 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:17,871 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:23,938 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:25,467 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:27,345 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:29,052 - INFO - app.config - FastAPI application is starting...
2024-11-01 17:33:33,906 - INFO - app.config - FastAPI application is starting...
2024-11-02 11:48:03,169 - INFO - app.config - FastAPI application is starting...
2024-11-02 11:48:04,805 - INFO - app.config - Request received
2024-11-02 11:48:04,866 - INFO - app.config - Request received
2024-11-02 11:48:07,703 - INFO - app.config - Request received
2024-11-02 11:48:08,014 - INFO - app.config - Request received
2024-11-02 11:51:48,947 - INFO - app.config - FastAPI application is starting...
2024-11-02 11:51:50,972 - INFO - app.config - FastAPI application is starting...
2024-11-02 11:52:06,396 - INFO - app.config - Request received
2024-11-02 11:52:06,398 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 11:52:06,401 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 11:54:38,056 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 11:54:38,060 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 11:54:38,062 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 11:55:00,593 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 11:55:00,597 - INFO - app.config - User email: test@example.com
2024-11-02 11:55:00,599 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:55:00,600 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,064 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559291, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INLy5Mrik+fPanWWiNC/XIpTt8g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 805750846, "operationId": 805750846, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,102 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 37.96, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"0O2EbkY+5Jqm6We3j+PEM0lcVlU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 805750846, "operationId": 805750846, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,105 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 11:55:01,105 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:55:01,106 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,107 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"0O2EbkY+5Jqm6We3j+PEM0lcVlU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,144 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 36.689, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"0O2EbkY+5Jqm6We3j+PEM0lcVlU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,145 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x724735a5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:55:01,145 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x724735a5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03342149571688962>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03698251683504687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03831538752165746>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,146 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"insert\": \"snap_shares\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559300, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"0O2EbkY+5Jqm6We3j+PEM0lcVlU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:55:01.144Z\"}, \"_id\": {\"$oid\": \"67263d45bb2b80e3be076427\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:55:01,192 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 46.641000000000005, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730559301, \"i\": 1}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559301, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"GtzODE/l+nXrN8eSKrjAEYtCkok=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559301, \"i\": 1}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:01,431 - INFO - app.config - Request received
2024-11-02 11:56:01,432 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 11:56:01,433 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 11:56:01,833 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 11:56:01,836 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 11:56:01,837 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 11:56:02,356 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 11:56:02,364 - INFO - app.config - User email: test@example.com
2024-11-02 11:56:02,366 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:56:02,371 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,373 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559361, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"sC7gxFGBmpZo34fKueea7Vq+piY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1474612399, "operationId": 1474612399, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,411 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 38.602, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7tVHfRo0eSPFMY9zKNr6cTUxdDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1474612399, "operationId": 1474612399, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,413 - INFO - app.config - Snap with id 67263781674f2275bb6ec05d retrieved
2024-11-02 11:56:02,414 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:56:02,415 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,417 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7tVHfRo0eSPFMY9zKNr6cTUxdDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1264095060, "operationId": 1264095060, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,453 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 36.761, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7tVHfRo0eSPFMY9zKNr6cTUxdDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1264095060, "operationId": 1264095060, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,455 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x724735a5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}}
2024-11-02 11:56:02,457 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x724735a5be20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67263c86bb2b80e3be076426, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03324731094900973>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03563951448556003>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035099306452291756>]>", "clientId": {"$oid": "67263c86bb2b80e3be076426"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,458 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command started", "command": "{\"insert\": \"snap_shares\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wIWbdslxTKipqUTpUt6Tcw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7tVHfRo0eSPFMY9zKNr6cTUxdDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"67263781674f2275bb6ec05d\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:56:02.455Z\"}, \"_id\": {\"$oid\": \"67263d82bb2b80e3be076428\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1411549676, "operationId": 1411549676, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 11:56:02,500 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263c86bb2b80e3be076426"}, "message": "Command succeeded", "durationMS": 42.37, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 7}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"7tVHfRo0eSPFMY9zKNr6cTUxdDA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559362, \"i\": 7}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1411549676, "operationId": 1411549676, "driverConnectionId": 1, "serverConnectionId": 96533, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:00:07,744 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:00:13,220 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:00:58,877 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:01:02,716 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:01:05,579 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:01:17,861 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:01:25,366 - INFO - app.config - Request received
2024-11-02 12:01:25,367 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:01:25,369 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:01:25,867 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:01:25,875 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263ebd87ffe63410fb3d0f, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05248514500090096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03477308199944673>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03348002600068867>]>", "clientId": {"$oid": "67263ebd87ffe63410fb3d0f"}}
2024-11-02 12:01:25,876 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263ebd87ffe63410fb3d0f, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.05248514500090096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03477308199944673>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03348002600068867>]>", "clientId": {"$oid": "67263ebd87ffe63410fb3d0f"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:01:26,116 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263ebd87ffe63410fb3d0f"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"mtdz65CeQUWCDPZSGEVbyg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559678, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hpPVWPrDuQ6QlziVrexhyxjWG5U=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96603, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:01:26,153 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263ebd87ffe63410fb3d0f"}, "message": "Command succeeded", "durationMS": 37.765, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559686, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"fQnC8VWs4ElMvDweHgw2iO+A7Gg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559686, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96603, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:01:26,155 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:04:48,079 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:02,436 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:19,045 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:24,941 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:27,400 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:32,073 - INFO - app.config - Request received
2024-11-02 12:05:32,075 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:05:32,077 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:05:32,600 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:05:32,604 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263fb7c06d1a29b835612d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033291247998931794>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03744872899915208>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034852025000873255>]>", "clientId": {"$oid": "67263fb7c06d1a29b835612d"}}
2024-11-02 12:05:32,605 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67263fb7c06d1a29b835612d, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033291247998931794>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03744872899915208>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034852025000873255>]>", "clientId": {"$oid": "67263fb7c06d1a29b835612d"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:05:32,829 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263fb7c06d1a29b835612d"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"h9oTO+S9RIiFdQu1o56z8Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559927, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"UPV/s31NasSnLwODPp26TMIp1NU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96721, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:05:32,865 - DEBUG - pymongo.command - {"clientId": {"$oid": "67263fb7c06d1a29b835612d"}, "message": "Command succeeded", "durationMS": 36.414, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730559932, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JAjwaVLK7d8wjukzaOYZybTpwPc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730559932, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96721, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:05:32,867 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:05:47,258 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:49,837 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:05:59,966 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:06:02,795 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:06:29,574 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:06:31,437 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:07:13,278 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:07:35,261 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:07:40,116 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:07:45,008 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:07:56,424 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:08:02,704 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:08:11,350 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:08:15,202 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:08:26,277 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:08:37,732 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:20,503 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:31,812 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:36,376 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:38,485 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:41,053 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:45,464 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:09:50,153 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:10:17,441 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:10:55,149 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:11:45,299 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:10,421 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:32,244 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:35,543 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:40,400 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:44,004 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:49,058 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:52,130 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:12:58,079 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:13:06,714 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:13:31,156 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:13:45,055 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:13:55,318 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:13:58,888 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:06,078 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:08,278 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:20,172 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:24,057 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:32,977 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:36,583 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:43,331 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:50,775 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:14:56,804 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:15:05,972 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:15:09,514 - INFO - app.config - Request received
2024-11-02 12:15:09,517 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:15:09,520 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:15:10,002 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:15:10,006 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672641f9ef853e774b1bb684, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03228454700001748>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036609785000109696>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0341143790010392>]>", "clientId": {"$oid": "672641f9ef853e774b1bb684"}}
2024-11-02 12:15:10,006 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672641f9ef853e774b1bb684, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03228454700001748>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036609785000109696>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0341143790010392>]>", "clientId": {"$oid": "672641f9ef853e774b1bb684"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:15:10,252 - DEBUG - pymongo.command - {"clientId": {"$oid": "672641f9ef853e774b1bb684"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"EnGm1VWgTtWnwuhdVb83/Q==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560506, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cBH12TayQ9AHS8UCEmwe9G9ENrM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96846, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:15:10,290 - DEBUG - pymongo.command - {"clientId": {"$oid": "672641f9ef853e774b1bb684"}, "message": "Command succeeded", "durationMS": 38.214999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560510, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Gs39FGMeXg2QIgBOgsoh7U8CbNA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560510, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96846, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:15:10,292 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:15:10,294 - ERROR - app.config - Unhandled exception: SnapService.get_retweeted_snaps() takes 3 positional arguments but 4 were given
2024-11-02 12:16:01,250 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:16:16,460 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:16:20,940 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:16:25,071 - INFO - app.config - Request received
2024-11-02 12:16:25,073 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:16:25,075 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:16:25,658 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:16:25,663 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:16:25,665 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,913 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560580, \"i\": 12}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"GeYCsuQ0OWt0la4Px65FL1n6Ii4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,950 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 37.940000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,951 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:16:25,952 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:16:25,952 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,953 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"test@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,988 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.388000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263d45bb2b80e3be076427\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:55:01.144Z\"}}, {\"_id\": {\"$oid\": \"67263d82bb2b80e3be076428\"}, \"snap_id\": \"67263781674f2275bb6ec05d\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:56:02.455Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,989 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:16:25,990 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:25,991 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:26,026 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 34.982, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:26,027 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:16:26,027 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:16:26,028 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03219335200083151>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03581540599952859>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03499225899940939>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:26,029 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:26,063 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 34.59, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xPABUoXR7uCwf0/Lrzc6tNnDn3g=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560585, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:16:26,064 - INFO - app.config - Snap with id 67263781674f2275bb6ec05d retrieved
2024-11-02 12:19:12,574 - INFO - app.config - Request received
2024-11-02 12:19:12,575 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:19:12,577 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:19:13,002 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:19:13,006 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:19:13,006 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,007 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560751, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"W/cXA7hauGPG2Xz8BoipFlzzrFo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,043 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.634, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560752, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZiDYuIu4G5liD60FTX/WpUgfaho=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560752, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1632621729, "operationId": 1632621729, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,044 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:19:13,044 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:19:13,045 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,045 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"test@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560752, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ZiDYuIu4G5liD60FTX/WpUgfaho=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,081 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.437999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263d45bb2b80e3be076427\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:55:01.144Z\"}}, {\"_id\": {\"$oid\": \"67263d82bb2b80e3be076428\"}, \"snap_id\": \"67263781674f2275bb6ec05d\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:56:02.455Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Jjzlyvhy9vBjv1B3oKgJUeD3RII=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1100661313, "operationId": 1100661313, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,082 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:19:13,083 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,084 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Jjzlyvhy9vBjv1B3oKgJUeD3RII=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,119 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.21, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Jjzlyvhy9vBjv1B3oKgJUeD3RII=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1433925857, "operationId": 1433925857, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,120 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:19:13,121 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:19:13,122 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0325272627151106>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03622624959302806>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03393153663624549>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,125 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Jjzlyvhy9vBjv1B3oKgJUeD3RII=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,161 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.717, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Jjzlyvhy9vBjv1B3oKgJUeD3RII=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560753, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1141616124, "operationId": 1141616124, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:13,162 - INFO - app.config - Snap with id 67263781674f2275bb6ec05d retrieved
2024-11-02 12:19:40,242 - INFO - app.config - Request received
2024-11-02 12:19:40,243 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 12:19:40,245 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:19:41,041 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:19:41,043 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:19:41,045 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:19:41,659 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:19:41,664 - INFO - app.config - User email: test@example.com
2024-11-02 12:19:41,673 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7f3998653e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0334878700219072>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03608371416787848>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033808685838092004>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:19:41,675 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7f3998653e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0334878700219072>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03608371416787848>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033808685838092004>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:41,677 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560781, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5wdOE6HsrymZS9sIafkaBlDpusU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1585990364, "operationId": 1585990364, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:41,723 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 46.97, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730560781, \"i\": 5}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560781, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5wdOE6HsrymZS9sIafkaBlDpusU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560781, \"i\": 5}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1585990364, "operationId": 1585990364, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:19:41,725 - INFO - app.config - Snap created with id 6726430df4faa613f7cdd132
2024-11-02 12:20:37,512 - INFO - app.config - Request received
2024-11-02 12:20:37,513 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:20:37,514 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:20:38,111 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:20:38,115 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:20:38,117 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,118 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560831, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"tDrAWXM5rO6Wir75xJmW2lvvVSM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 855636226, "operationId": 855636226, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,154 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.166, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}, {\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560837, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5D0kWjyGHWI7AKYqFKZ9kFLTqJU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 173056083...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 855636226, "operationId": 855636226, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,157 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:20:38,157 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:20:38,159 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,160 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"test@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560837, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5D0kWjyGHWI7AKYqFKZ9kFLTqJU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1749698586, "operationId": 1749698586, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,211 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 51.004, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263d45bb2b80e3be076427\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:55:01.144Z\"}}, {\"_id\": {\"$oid\": \"67263d82bb2b80e3be076428\"}, \"snap_id\": \"67263781674f2275bb6ec05d\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:56:02.455Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560837, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5D0kWjyGHWI7AKYqFKZ9kFLTqJU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560837, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1749698586, "operationId": 1749698586, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,213 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:20:38,214 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,215 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560837, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"5D0kWjyGHWI7AKYqFKZ9kFLTqJU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1469348094, "operationId": 1469348094, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,251 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.956, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560838, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"HWyldMz7jelsYoAcN3F2AVgWm8c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560838, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1469348094, "operationId": 1469348094, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,253 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:20:38,254 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:20:38,255 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03355421556000983>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036306089122029456>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035474210581763574>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,256 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560838, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"HWyldMz7jelsYoAcN3F2AVgWm8c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1956297539, "operationId": 1956297539, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,291 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.14, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560838, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"HWyldMz7jelsYoAcN3F2AVgWm8c=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560838, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1956297539, "operationId": 1956297539, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:20:38,292 - INFO - app.config - Snap with id 67263781674f2275bb6ec05d retrieved
2024-11-02 12:21:07,987 - INFO - app.config - Request received
2024-11-02 12:21:07,988 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 12:21:07,990 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:21:08,352 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:21:08,355 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:21:08,357 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:21:08,883 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:21:08,886 - INFO - app.config - User email: test@example.com
2024-11-02 12:21:08,887 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:08,888 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,889 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560861, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xCXrB+BhhO9oOWoLf5BB4GLZhUc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 603570492, "operationId": 603570492, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,923 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 34.768, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xrWwGv/Uc20E9dpemhwX9MoZZqU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 603570492, "operationId": 603570492, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,924 - INFO - app.config - Snap with id 6726430df4faa613f7cdd132 retrieved
2024-11-02 12:21:08,924 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:08,925 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,925 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xrWwGv/Uc20E9dpemhwX9MoZZqU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1687926652, "operationId": 1687926652, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,961 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.437999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xrWwGv/Uc20E9dpemhwX9MoZZqU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1687926652, "operationId": 1687926652, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,962 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7f3998653e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:08,963 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7f3998653e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03382217832655096>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036300551678341876>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034989351505826216>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:08,964 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"insert\": \"snap_shares\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xrWwGv/Uc20E9dpemhwX9MoZZqU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"6726430df4faa613f7cdd132\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T12:21:08.962Z\"}, \"_id\": {\"$oid\": \"67264364f4faa613f7cdd133\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 660260756, "operationId": 660260756, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:09,003 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 39.223, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 10}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"xrWwGv/Uc20E9dpemhwX9MoZZqU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560868, \"i\": 10}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 660260756, "operationId": 660260756, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:13,847 - INFO - app.config - Request received
2024-11-02 12:21:13,848 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:21:13,849 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:21:14,694 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:21:14,702 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:14,703 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,708 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"test@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560871, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"stcK+u3xJCyv6YCXcKZP2w6lPGc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 593209441, "operationId": 593209441, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,744 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.583999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263796674f2275bb6ec05e\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #hamilton\", \"created_at\": {\"$date\": \"2024-11-02T14:30:46.764Z\"}, \"is_private\": true, \"hashtags\": [\"#hamilton\"]}, {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}, {\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 173056087...", "commandName": "find", "databaseName": "twitsnaps", "requestId": 593209441, "operationId": 593209441, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,746 - INFO - app.config - Snaps retrieved for user test@example.com
2024-11-02 12:21:14,747 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:14,748 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,750 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"test@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1194953865, "operationId": 1194953865, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,786 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.945, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263d45bb2b80e3be076427\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:55:01.144Z\"}}, {\"_id\": {\"$oid\": \"67263d82bb2b80e3be076428\"}, \"snap_id\": \"67263781674f2275bb6ec05d\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T11:56:02.455Z\"}}, {\"_id\": {\"$oid\": \"67264364f4faa613f7cdd133\"}, \"snap_id\": \"6726430df4faa613f7cdd132\", \"email\": \"test@example.com\", \"username\": \"martincho\", \"created_at\": {\"$date\": \"2024-11-02T12:21:08.962Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1194953865, "operationId": 1194953865, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,788 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:14,791 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,793 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 894429689, "operationId": 894429689, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,829 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 36.391, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 894429689, "operationId": 894429689, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,830 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:21:14,831 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:14,832 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,833 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 364228444, "operationId": 364228444, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,869 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.666000000000004, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67263781674f2275bb6ec05d\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"aguante #colapinto\", \"created_at\": {\"$date\": \"2024-11-02T14:30:25.062Z\"}, \"is_private\": true, \"hashtags\": [\"#colapinto\"], \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 364228444, "operationId": 364228444, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,871 - INFO - app.config - Snap with id 67263781674f2275bb6ec05d retrieved
2024-11-02 12:21:14,872 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}}
2024-11-02 12:21:14,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264244f4faa613f7cdd131, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033582038461286136>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03617716074260569>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034751850604514495>]>", "clientId": {"$oid": "67264244f4faa613f7cdd131"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,876 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"kUoi/JY3RRGdYFHEAbBmqw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1947346619, "operationId": 1947346619, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,912 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264244f4faa613f7cdd131"}, "message": "Command succeeded", "durationMS": 35.753, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"6726430df4faa613f7cdd132\"}, \"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:19:41.673Z\"}, \"is_private\": true}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"IKpWkk0B3zlEsZBYtBCtid7w6/8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730560874, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1947346619, "operationId": 1947346619, "driverConnectionId": 1, "serverConnectionId": 96970, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:21:14,914 - INFO - app.config - Snap with id 6726430df4faa613f7cdd132 retrieved
2024-11-02 12:23:20,004 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:23:24,250 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:23:29,700 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:23:37,850 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:14,427 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:19,485 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:23,901 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:37,818 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:42,936 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:47,688 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:24:54,694 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:25:00,406 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:25:02,206 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:25:14,924 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:25:33,623 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:25:40,842 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:00,293 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:04,586 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:11,622 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:15,024 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:25,054 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:31,106 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:33,992 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:41,510 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:26:53,432 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:00,462 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:13,320 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:18,848 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:24,479 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:27,144 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:35,531 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:44,313 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:47,563 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:27:50,297 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:28:04,361 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:28:34,995 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:28:49,432 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:28:54,346 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:29:11,948 - INFO - app.config - Request received
2024-11-02 12:29:11,950 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 12:29:11,952 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:29:12,298 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:29:12,306 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:29:12,311 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:13,259 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:29:13,265 - INFO - app.config - User email: test@example.com
2024-11-02 12:29:13,267 - INFO - app.config - Getting followed users
2024-11-02 12:29:13,270 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:13,914 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:29:13,919 - INFO - app.config - Fetching snaps for followed users: []
2024-11-02 12:29:13,920 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.031872385400492934>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03660292459935591>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03496474320054404>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:29:13,922 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.031872385400492934>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03660292459935591>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03496474320054404>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:14,168 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561344, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"6V+QQo2RIjaQ61pz5dDNXYrP6gk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:14,204 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 36.58, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561354, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E/UnanPEbHszcT0i3KW18RaJruA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561354, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:14,205 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:29:14,205 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:29:14,208 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:14,716 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:29:14,724 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032444546120532325>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637168327957625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034773862960501>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:29:14,726 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032444546120532325>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637168327957625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034773862960501>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:14,728 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561354, \"i\": 371}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E/UnanPEbHszcT0i3KW18RaJruA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:14,767 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 39.394, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561354, \"i\": 371}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E/UnanPEbHszcT0i3KW18RaJruA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561354, \"i\": 371}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:23,993 - INFO - app.config - Request received
2024-11-02 12:29:23,995 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 12:29:23,996 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:29:24,405 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:29:24,409 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:29:24,411 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:24,941 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:29:24,943 - INFO - app.config - User email: test@example.com
2024-11-02 12:29:24,946 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76fca0e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:29:24,946 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76fca0e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:24,947 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"insert\": \"twitsnaps\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561364, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E8qxhi9vvZEPaJm+FlAmZEDV/CE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"email\": \"test@example.com\", \"username\": \"martincho\", \"message\": \"mamita posho\", \"created_at\": {\"$date\": \"2024-11-02T12:29:24.945Z\"}, \"is_private\": true, \"_id\": {\"$oid\": \"67264554d24055cd0cc638bb\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1726956429, "operationId": 1726956429, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:24,996 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 49.39, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730561364, \"i\": 10}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561364, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E8qxhi9vvZEPaJm+FlAmZEDV/CE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561364, \"i\": 10}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1726956429, "operationId": 1726956429, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:24,997 - INFO - app.config - Snap created with id 67264554d24055cd0cc638bb
2024-11-02 12:29:28,519 - INFO - app.config - Request received
2024-11-02 12:29:28,520 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDQwNjMsImlhdCI6MTczMDU1NzY2M30.UzQm9CkihGk1jMStWrsoKRid7NCjWf04hEgrZ3c-eSU
2024-11-02 12:29:28,521 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:29:28,939 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:29:28,941 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:29:28,943 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:29,410 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:29:29,413 - INFO - app.config - User email: test@example.com
2024-11-02 12:29:29,414 - INFO - app.config - Getting followed users
2024-11-02 12:29:29,415 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:30,052 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:29:30,059 - INFO - app.config - Fetching snaps for followed users: []
2024-11-02 12:29:30,060 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:29:30,062 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:30,064 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561364, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"E8qxhi9vvZEPaJm+FlAmZEDV/CE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:30,103 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 39.181, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561369, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"y/Ff7J6uTHCmJvPKa7ZmYr/vQEU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561369, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:30,105 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:29:30,106 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:29:30,110 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:29:30,609 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:29:30,612 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:29:30,613 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0332962058964331>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03621969962381991>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034740563368366575>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:30,614 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561369, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"y/Ff7J6uTHCmJvPKa7ZmYr/vQEU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 861021530, "operationId": 861021530, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:29:30,653 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 39.111, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561370, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"TE+YJBFv7e698ALMprxVk8iS/L0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561370, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 861021530, "operationId": 861021530, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:13,006 - INFO - app.config - Request received
2024-11-02 12:34:13,007 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:34:13,008 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:34:13,330 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:34:13,333 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:34:13,335 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:34:13,975 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:34:13,980 - INFO - app.config - User email: test@example.com
2024-11-02 12:34:13,982 - INFO - app.config - Getting followed users
2024-11-02 12:34:13,985 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:34:14,703 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:34:14,710 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:34:14,711 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036027725767343116>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035937465959465155>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:34:14,713 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036027725767343116>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035937465959465155>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:14,716 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561654, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"uDQ6x7AyqEc2SDHhJP7JtozmN+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1687926652, "operationId": 1687926652, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:14,754 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 38.932, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561654, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"uDQ6x7AyqEc2SDHhJP7JtozmN+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561654, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1687926652, "operationId": 1687926652, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:14,756 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:34:14,756 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:34:14,760 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:34:15,423 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:34:15,427 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03584545041377625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035912312567405846>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:34:15,428 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03584545041377625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035912312567405846>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:15,429 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561654, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"uDQ6x7AyqEc2SDHhJP7JtozmN+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 660260756, "operationId": 660260756, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:15,465 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 35.747, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561655, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"bjuZMLFse9D0aBe1fgNjpMBZ2eA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561655, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 660260756, "operationId": 660260756, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:15,466 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03584545041377625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035912312567405846>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:34:15,467 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03373873054006396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03584545041377625>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035912312567405846>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:15,468 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"username\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561655, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"bjuZMLFse9D0aBe1fgNjpMBZ2eA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 959997301, "operationId": 959997301, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:34:15,503 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 35.325, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561655, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"bjuZMLFse9D0aBe1fgNjpMBZ2eA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561655, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 959997301, "operationId": 959997301, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:04,538 - INFO - app.config - Request received
2024-11-02 12:36:04,540 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25AZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDc4MDgsImlhdCI6MTczMDU2MTQwOH0.6YvY1vese9BaPrc5_ubhk8ER8aE4FQGOSTkWRoIHjNE
2024-11-02 12:36:04,541 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:36:04,885 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:36:04,888 - INFO - app.config - Getting profile by email brandon@example.com
2024-11-02 12:36:04,890 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:36:05,853 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=brandon@example.com HTTP/1.1" 200 None
2024-11-02 12:36:05,860 - INFO - app.config - User email: brandon@example.com
2024-11-02 12:36:05,863 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:05,865 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,867 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561764, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"o9EkIPp5eDctp7RKy1nV1vqUvvY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1713258270, "operationId": 1713258270, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,904 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 37.373999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 36}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KlgGXXoqeLPWui3O31CWCjE4v7E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 35}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1713258270, "operationId": 1713258270, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,905 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:36:05,906 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:05,908 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,910 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 36}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KlgGXXoqeLPWui3O31CWCjE4v7E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1573363368, "operationId": 1573363368, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,946 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 36.089999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 38}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KlgGXXoqeLPWui3O31CWCjE4v7E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 38}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1573363368, "operationId": 1573363368, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,948 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76fca0e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:05,949 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76fca0e73e20>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335554561802835>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03609879153347478>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03578419059319833>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,950 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"insert\": \"snap_shares\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"txnNumber\": 2, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 38}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KlgGXXoqeLPWui3O31CWCjE4v7E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}, \"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1409959708, "operationId": 1409959708, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:05,993 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 42.3, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 39}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 39}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"KlgGXXoqeLPWui3O31CWCjE4v7E=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561765, \"i\": 39}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1409959708, "operationId": 1409959708, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:46,562 - INFO - app.config - Request received
2024-11-02 12:36:46,563 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:36:46,564 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:36:46,923 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:36:46,926 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:36:46,927 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:36:47,698 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:36:47,704 - INFO - app.config - User email: test@example.com
2024-11-02 12:36:47,707 - INFO - app.config - Getting followed users
2024-11-02 12:36:47,711 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:36:48,471 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:36:48,475 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:36:48,476 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:48,477 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:48,478 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561804, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"w/Jm5BlTuLB82PhKv46iFGb+Lu8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2147469841, "operationId": 2147469841, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:48,514 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 36.049, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LIgXZbWnAPcbs3ft7ybRXMyvg+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2147469841, "operationId": 2147469841, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:48,515 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:36:48,515 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:36:48,519 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:36:49,011 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:36:49,015 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:49,016 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:49,017 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LIgXZbWnAPcbs3ft7ybRXMyvg+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 438792350, "operationId": 438792350, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:49,054 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 37.449000000000005, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LIgXZbWnAPcbs3ft7ybRXMyvg+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 438792350, "operationId": 438792350, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:49,055 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:36:49,056 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03335669876355643>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036271650486031495>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03523714994539358>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:49,056 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"username\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561808, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LIgXZbWnAPcbs3ft7ybRXMyvg+k=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911165193, "operationId": 1911165193, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:36:49,092 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 36.165000000000006, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561809, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"62OdRsjBEYjuf9bMASDhNiMhV8w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561809, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1911165193, "operationId": 1911165193, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:31,296 - INFO - app.config - Request received
2024-11-02 12:37:31,297 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:37:31,299 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:37:31,626 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:37:31,630 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:37:31,632 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:32,526 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:37:32,533 - INFO - app.config - User email: test@example.com
2024-11-02 12:37:32,537 - INFO - app.config - Getting followed users
2024-11-02 12:37:32,542 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:33,274 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:37:33,280 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:37:33,281 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:37:33,282 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,284 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561844, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Pr8pPG2lE/zyi1wkIjc2URAM+rk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1760281936, "operationId": 1760281936, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,322 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 38.222, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/1+NI1+xSvNepubTyTyZ/FByPws=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1760281936, "operationId": 1760281936, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,329 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:37:33,332 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:37:33,342 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:33,853 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:37:33,858 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:37:33,859 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,860 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/1+NI1+xSvNepubTyTyZ/FByPws=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 771151432, "operationId": 771151432, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,895 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 35.64, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/1+NI1+xSvNepubTyTyZ/FByPws=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 771151432, "operationId": 771151432, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,897 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}}
2024-11-02 12:37:33,898 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264536d24055cd0cc638ba, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03364496793848872>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.036215963855037656>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034869630640153707>]>", "clientId": {"$oid": "67264536d24055cd0cc638ba"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,899 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"username\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"TeUSydlsSMirW8siDm0sqg==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/1+NI1+xSvNepubTyTyZ/FByPws=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1186452551, "operationId": 1186452551, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:33,935 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264536d24055cd0cc638ba"}, "message": "Command succeeded", "durationMS": 35.817, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"/1+NI1+xSvNepubTyTyZ/FByPws=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561853, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1186452551, "operationId": 1186452551, "driverConnectionId": 1, "serverConnectionId": 97159, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:52,548 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:37:54,749 - INFO - app.config - Request received
2024-11-02 12:37:54,750 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:37:54,752 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:37:55,086 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:37:55,088 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:37:55,089 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:55,554 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:37:55,556 - INFO - app.config - User email: test@example.com
2024-11-02 12:37:55,557 - INFO - app.config - Getting followed users
2024-11-02 12:37:55,558 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:56,373 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:37:56,377 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:37:56,377 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}}
2024-11-02 12:37:56,378 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:56,616 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ZRGG8fHmSjqL8JpZgmNNJQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561872, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Bl+9mjqzjfuvVsVfBd9JLe5mEDk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:56,653 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command succeeded", "durationMS": 37.342, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561876, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hlovAeRdHfV3ZNKdgu95WK8eFfM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561876, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:56,655 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:37:56,655 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:37:56,657 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:37:57,165 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:37:57,170 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}}
2024-11-02 12:37:57,171 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:57,172 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ZRGG8fHmSjqL8JpZgmNNJQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561876, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hlovAeRdHfV3ZNKdgu95WK8eFfM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:57,208 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command succeeded", "durationMS": 36.518, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561877, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WKJZFvvT2hEDkwBZRHH5bzxhh4Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561877, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:57,209 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}}
2024-11-02 12:37:57,209 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264750ff34d1ed7736c4a8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03223128900026495>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03434118400036823>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03347038500032795>]>", "clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:57,209 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"username\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"ZRGG8fHmSjqL8JpZgmNNJQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561877, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WKJZFvvT2hEDkwBZRHH5bzxhh4Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:37:57,245 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264750ff34d1ed7736c4a8"}, "message": "Command succeeded", "durationMS": 36.073, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561877, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WKJZFvvT2hEDkwBZRHH5bzxhh4Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561877, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96932, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:38:47,343 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:38:50,766 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:38:59,809 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:03,814 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:30,668 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:34,509 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:44,246 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:51,679 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:39:52,686 - INFO - app.config - Request received
2024-11-02 12:39:52,687 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:39:52,689 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:39:53,060 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:39:53,063 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:39:53,065 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:39:53,561 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:39:53,565 - INFO - app.config - User email: test@example.com
2024-11-02 12:39:53,567 - INFO - app.config - Getting followed users
2024-11-02 12:39:53,570 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:39:54,317 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:39:54,322 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:39:54,323 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}}
2024-11-02 12:39:54,324 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:54,592 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Cx2LSYRTFupK1PzcqITCw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561991, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+F3H2T7Yxo7xyqb1D64Q9dD0ZZg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:54,631 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command succeeded", "durationMS": 40.407, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561994, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ickj0hHgllPqeK13vIaE5blJacs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561994, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:54,634 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:39:54,635 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:39:54,639 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:39:55,663 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:39:55,674 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}}
2024-11-02 12:39:55,677 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,680 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Cx2LSYRTFupK1PzcqITCw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561994, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Ickj0hHgllPqeK13vIaE5blJacs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,718 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command succeeded", "durationMS": 38.659, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OYgRLV7A3R664OwRXA+UTXNyZxo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,720 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}}
2024-11-02 12:39:55,721 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,723 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Cx2LSYRTFupK1PzcqITCw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OYgRLV7A3R664OwRXA+UTXNyZxo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,760 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command succeeded", "durationMS": 37.393, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OYgRLV7A3R664OwRXA+UTXNyZxo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,761 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}}
2024-11-02 12:39:55,762 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 672647c768b9d74752e84173, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03384272199946281>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03506085300068662>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03409980899959919>]>", "clientId": {"$oid": "672647c768b9d74752e84173"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,762 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"2Cx2LSYRTFupK1PzcqITCw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OYgRLV7A3R664OwRXA+UTXNyZxo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,799 - DEBUG - pymongo.command - {"clientId": {"$oid": "672647c768b9d74752e84173"}, "message": "Command succeeded", "durationMS": 36.327999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"OYgRLV7A3R664OwRXA+UTXNyZxo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730561995, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97319, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:39:55,799 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:39:55,800 - ERROR - app.config - Unhandled exception: '_id'
2024-11-02 12:41:39,491 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:41:42,176 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:41:43,332 - INFO - app.config - Request received
2024-11-02 12:41:43,333 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:41:43,335 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:41:43,678 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:41:43,684 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:41:43,686 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:41:44,177 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:41:44,181 - INFO - app.config - User email: test@example.com
2024-11-02 12:41:44,182 - INFO - app.config - Getting followed users
2024-11-02 12:41:44,184 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:41:44,809 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:41:44,816 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:41:44,818 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}}
2024-11-02 12:41:44,820 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,050 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PblKPXo+QjCR1gTzCq3ayw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562102, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"keHr7ZFPKyocG9TUShVh+cn7n84=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,089 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command succeeded", "durationMS": 38.357, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562104, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"aSxHcT1/E5EsKlw8MWQQG2Ea9qU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562104, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,091 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:41:45,091 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:41:45,094 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:41:45,614 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:41:45,618 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}}
2024-11-02 12:41:45,618 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,619 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PblKPXo+QjCR1gTzCq3ayw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562104, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"aSxHcT1/E5EsKlw8MWQQG2Ea9qU=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,655 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command succeeded", "durationMS": 36.47, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DEscy93LRe5hoP0DDctx0RbkNTE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,656 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}}
2024-11-02 12:41:45,657 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,658 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PblKPXo+QjCR1gTzCq3ayw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DEscy93LRe5hoP0DDctx0RbkNTE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,694 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command succeeded", "durationMS": 36.21, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DEscy93LRe5hoP0DDctx0RbkNTE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,700 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}}
2024-11-02 12:41:45,702 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264836285efbcce2f44f2e, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03356356699987373>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03504726800019853>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03371054200033541>]>", "clientId": {"$oid": "67264836285efbcce2f44f2e"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,704 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"PblKPXo+QjCR1gTzCq3ayw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DEscy93LRe5hoP0DDctx0RbkNTE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,741 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264836285efbcce2f44f2e"}, "message": "Command succeeded", "durationMS": 37.017, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DEscy93LRe5hoP0DDctx0RbkNTE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562105, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 96981, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:41:45,744 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:41:45,746 - ERROR - app.config - Unhandled exception: '_id'
2024-11-02 12:42:01,710 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:42:08,177 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:42:23,595 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:42:33,461 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:42:38,515 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:42:39,535 - INFO - app.config - Request received
2024-11-02 12:42:39,536 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:42:39,538 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:42:39,885 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:42:39,888 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:42:39,889 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:42:40,375 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:42:40,379 - INFO - app.config - User email: test@example.com
2024-11-02 12:42:40,381 - INFO - app.config - Getting followed users
2024-11-02 12:42:40,384 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:42:41,088 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:42:41,090 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:42:41,090 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}}
2024-11-02 12:42:41,091 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,318 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pcYQOcwDSHuBudnUL9Uqpw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562158, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"U/zzMsC5pLdv9jdZE69nGM5WiGo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,354 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command succeeded", "durationMS": 35.656, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,355 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:42:41,356 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:42:41,359 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:42:41,940 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:42:41,946 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}}
2024-11-02 12:42:41,948 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,951 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pcYQOcwDSHuBudnUL9Uqpw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,989 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command succeeded", "durationMS": 38.389, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,991 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}}
2024-11-02 12:42:41,992 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:41,994 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pcYQOcwDSHuBudnUL9Uqpw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:42,030 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command succeeded", "durationMS": 36.74, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:42,034 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}}
2024-11-02 12:42:42,036 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726486eb35a826f6b206a98, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0369073860001663>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03865153800143162>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.037381121999715106>]>", "clientId": {"$oid": "6726486eb35a826f6b206a98"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:42,039 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pcYQOcwDSHuBudnUL9Uqpw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:42,075 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726486eb35a826f6b206a98"}, "message": "Command succeeded", "durationMS": 36.425, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"LPujSQWH4fXyjraJX/ydan7ax10=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562161, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97333, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:42:42,077 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:42:42,078 - ERROR - app.config - Unhandled exception: '_id'
2024-11-02 12:45:44,588 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:45:51,171 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:46:01,978 - INFO - app.config - Request received
2024-11-02 12:46:01,980 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:46:01,981 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:46:02,518 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:46:02,525 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}}
2024-11-02 12:46:02,525 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,779 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"xnwBVEXSS067wuCW/zmcjQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562361, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DmVQNpatQcT6xdGGg+adkSMYotw=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,815 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command succeeded", "durationMS": 36.49, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+Ax9r9K5c9u0qz1MnaQTIXuw2TE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,816 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:46:02,816 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}}
2024-11-02 12:46:02,817 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,818 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"xnwBVEXSS067wuCW/zmcjQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+Ax9r9K5c9u0qz1MnaQTIXuw2TE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,854 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command succeeded", "durationMS": 35.874, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+Ax9r9K5c9u0qz1MnaQTIXuw2TE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,855 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}}
2024-11-02 12:46:02,856 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726492ff4b93bff4bd054ad, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0327158900010545>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035025798800052146>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033898843599672546>]>", "clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,857 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"xnwBVEXSS067wuCW/zmcjQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+Ax9r9K5c9u0qz1MnaQTIXuw2TE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,892 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726492ff4b93bff4bd054ad"}, "message": "Command succeeded", "durationMS": 34.873000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"+Ax9r9K5c9u0qz1MnaQTIXuw2TE=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562362, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97246, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:02,893 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:46:48,016 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:46:50,282 - INFO - app.config - Request received
2024-11-02 12:46:50,284 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:46:50,287 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:46:50,790 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:46:50,793 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:46:50,794 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,035 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562408, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"GU3kTF+RdrZF4NVhXVB67c4s5d8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,082 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 47.342, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VSZfGmgRd1UNzqRcqdTlYWmL2Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,083 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:46:51,083 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:46:51,084 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,084 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VSZfGmgRd1UNzqRcqdTlYWmL2Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,134 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 49.695, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VSZfGmgRd1UNzqRcqdTlYWmL2Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,136 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:46:51,137 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032653102000040235>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03569723500004329>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03423614299936162>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,139 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VSZfGmgRd1UNzqRcqdTlYWmL2Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,176 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 37.67, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"VSZfGmgRd1UNzqRcqdTlYWmL2Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562411, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:46:51,179 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:47:01,059 - INFO - app.config - Request received
2024-11-02 12:47:01,061 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:47:01,062 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:47:02,114 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:47:02,121 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:47:02,123 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,125 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562418, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qH4OI2OF0Ow2fyknbO5IXA8SyXQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,164 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 38.762, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xkkx1uYNUYdE5BMtMhkVvkUkA/Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,167 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:47:02,168 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:47:02,169 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,171 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xkkx1uYNUYdE5BMtMhkVvkUkA/Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,209 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 37.979, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xkkx1uYNUYdE5BMtMhkVvkUkA/Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,210 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}}
2024-11-02 12:47:02,210 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6726496793f37f82df31ced8, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.032644797399916575>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03596068359984202>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03482085299947357>]>", "clientId": {"$oid": "6726496793f37f82df31ced8"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,211 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"jP4jp+skQlCr72WcPXkaPQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xkkx1uYNUYdE5BMtMhkVvkUkA/Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,248 - DEBUG - pymongo.command - {"clientId": {"$oid": "6726496793f37f82df31ced8"}, "message": "Command succeeded", "durationMS": 36.897, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Xkkx1uYNUYdE5BMtMhkVvkUkA/Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562421, \"i\": 111}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 35005211, "operationId": 35005211, "driverConnectionId": 1, "serverConnectionId": 97292, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:47:02,248 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:47:07,403 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:15,850 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:17,790 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:21,210 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:27,428 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:34,191 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:47:57,974 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:48:50,834 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:12,523 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:15,095 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:18,304 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:26,047 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:37,087 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:45,652 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:49:50,076 - INFO - app.config - Request received
2024-11-02 12:49:50,078 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:49:50,080 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:49:50,561 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:49:50,564 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}}
2024-11-02 12:49:50,565 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,795 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"HP0km2VvSni5TrxkAILnwQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562585, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"g+tmjlW1Er9NeGVh0LonYEAnyOo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,831 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command succeeded", "durationMS": 35.802, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DderF5cGpGt/intrpnAOqG3abdY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,832 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:49:50,832 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}}
2024-11-02 12:49:50,833 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,833 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"HP0km2VvSni5TrxkAILnwQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DderF5cGpGt/intrpnAOqG3abdY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,868 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command succeeded", "durationMS": 34.798, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DderF5cGpGt/intrpnAOqG3abdY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,872 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}}
2024-11-02 12:49:50,874 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a19f3a5d8d91a2f3d66, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03222177399948123>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0355582800002594>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034261462998983916>]>", "clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,878 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"HP0km2VvSni5TrxkAILnwQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DderF5cGpGt/intrpnAOqG3abdY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,915 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a19f3a5d8d91a2f3d66"}, "message": "Command succeeded", "durationMS": 37.72, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"DderF5cGpGt/intrpnAOqG3abdY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562590, \"i\": 13}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97228, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:49:50,918 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:50:04,451 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:50:06,535 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:50:19,910 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:50:20,559 - INFO - app.config - Request received
2024-11-02 12:50:20,560 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:50:20,562 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:50:21,472 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:50:21,481 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:21,483 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,727 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562619, \"i\": 11}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"hytL9+eXTg3xbWy6UW0d1OnjiE0=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,764 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 36.359, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cTKvs8DG7SZ4N7q9yHWaTtu50FA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,764 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:50:21,765 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:21,765 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,766 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cTKvs8DG7SZ4N7q9yHWaTtu50FA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,801 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 35.388999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cTKvs8DG7SZ4N7q9yHWaTtu50FA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,802 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:21,803 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033485654999822145>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.038774792999902274>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035020781000639545>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,804 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cTKvs8DG7SZ4N7q9yHWaTtu50FA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,839 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 35.943000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"cTKvs8DG7SZ4N7q9yHWaTtu50FA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562621, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:21,840 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:50:39,441 - INFO - app.config - Request received
2024-11-02 12:50:39,441 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:50:39,442 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:50:39,794 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:50:39,797 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:50:39,799 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:50:40,315 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:50:40,319 - INFO - app.config - User email: test@example.com
2024-11-02 12:50:40,323 - INFO - app.config - Getting followed users
2024-11-02 12:50:40,326 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:50:40,987 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:50:40,991 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:50:40,992 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:40,993 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:40,994 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562639, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"AbvNJIK6EfLOlCHGdyUe7k8naRs=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,031 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 36.49, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562640, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9HTPbPh78kmWt6LJhZN76xMso2w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562640, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 521595368, "operationId": 521595368, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,032 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:50:41,032 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:50:41,034 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:50:41,528 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:50:41,536 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:41,538 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,540 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562640, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"9HTPbPh78kmWt6LJhZN76xMso2w=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 294702567, "operationId": 294702567, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,577 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 37.830999999999996, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J29Y7vUOdrIvCazAZtSo/BcYtWA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 294702567, "operationId": 294702567, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,580 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:41,581 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,583 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J29Y7vUOdrIvCazAZtSo/BcYtWA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1726956429, "operationId": 1726956429, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,620 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 36.887, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J29Y7vUOdrIvCazAZtSo/BcYtWA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1726956429, "operationId": 1726956429, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,623 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}}
2024-11-02 12:50:41,625 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a3bf06aa014cde8e2a1, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033606798079854346>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03746159743946919>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.034975565480053775>]>", "clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,627 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"yk/46TTmQLSqJrI07hWZrA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J29Y7vUOdrIvCazAZtSo/BcYtWA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,667 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a3bf06aa014cde8e2a1"}, "message": "Command succeeded", "durationMS": 40.911, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"J29Y7vUOdrIvCazAZtSo/BcYtWA=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562641, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 336465782, "operationId": 336465782, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:50:41,669 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:50:41,671 - ERROR - app.config - Unhandled exception: 'id'
2024-11-02 12:51:00,613 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:51:02,420 - INFO - app.config - Request received
2024-11-02 12:51:02,422 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:51:02,425 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:51:02,761 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:51:02,769 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:51:02,774 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:03,266 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:51:03,270 - INFO - app.config - User email: test@example.com
2024-11-02 12:51:03,272 - INFO - app.config - Getting followed users
2024-11-02 12:51:03,273 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:04,013 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:51:04,019 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:51:04,020 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}}
2024-11-02 12:51:04,022 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:04,261 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zO+zfHO9QK6tWjkVC/Y3aA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562660, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"gBNCvztwilzRYyIyY8cdaj4X8n4=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:04,299 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command succeeded", "durationMS": 38.699, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:04,301 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:51:04,301 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:51:04,306 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:04,959 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:51:04,968 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}}
2024-11-02 12:51:04,970 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:04,972 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zO+zfHO9QK6tWjkVC/Y3aA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,010 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command succeeded", "durationMS": 38.328, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,012 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}}
2024-11-02 12:51:05,014 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,015 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zO+zfHO9QK6tWjkVC/Y3aA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,054 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command succeeded", "durationMS": 39.394999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,056 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}}
2024-11-02 12:51:05,057 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a64cde4a0a7bf29fef7, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03421010999954888>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0353015470009268>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03705417699893587>]>", "clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,057 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"zO+zfHO9QK6tWjkVC/Y3aA==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562664, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ttvwv3dmXk7VGr2t68mozWbebDc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,103 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a64cde4a0a7bf29fef7"}, "message": "Command succeeded", "durationMS": 46.138, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562665, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"1ZZAgGrP0TLKrwnTfY5E1IQYQ4A=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562665, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97194, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:05,104 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:51:05,104 - ERROR - app.config - Unhandled exception: 'id'
2024-11-02 12:51:28,101 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:51:29,635 - INFO - app.config - Request received
2024-11-02 12:51:29,642 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:51:29,646 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:51:30,035 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:51:30,040 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:51:30,043 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:30,701 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:51:30,707 - INFO - app.config - User email: test@example.com
2024-11-02 12:51:30,709 - INFO - app.config - Getting followed users
2024-11-02 12:51:30,712 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:31,602 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:51:31,608 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:51:31,609 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:51:31,610 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:31,841 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562688, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"rwejkSQwP/dhD3cQYZ9xckevs7Q=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:31,877 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 36.519000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562691, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JiDlNX9sOujv8GcsuGAYa8qJSlg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562691, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:31,878 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:51:31,879 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:51:31,882 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:51:32,562 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:51:32,571 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:51:32,573 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,575 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562691, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"JiDlNX9sOujv8GcsuGAYa8qJSlg=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,612 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 37.178999999999995, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ArIJWuFo49GBKf6G3T48XWRYpdQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,615 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:51:32,617 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,620 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ArIJWuFo49GBKf6G3T48XWRYpdQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,659 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 39.754999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ArIJWuFo49GBKf6G3T48XWRYpdQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,662 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:51:32,665 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03246323500025028>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.034534694999820204>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03483154400055355>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,667 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ArIJWuFo49GBKf6G3T48XWRYpdQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,706 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 38.638, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"ArIJWuFo49GBKf6G3T48XWRYpdQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562692, \"i\": 8}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:51:32,707 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:53:29,804 - INFO - app.config - Request received
2024-11-02 12:53:29,805 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImJyYW5kb25AZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDc4MDgsImlhdCI6MTczMDU2MTQwOH0.6YvY1vese9BaPrc5_ubhk8ER8aE4FQGOSTkWRoIHjNE
2024-11-02 12:53:29,806 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:53:30,154 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:53:30,164 - INFO - app.config - Getting profile by email brandon@example.com
2024-11-02 12:53:30,176 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:53:31,091 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=brandon@example.com HTTP/1.1" 200 None
2024-11-02 12:53:31,096 - INFO - app.config - User email: brandon@example.com
2024-11-02 12:53:31,097 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:31,098 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,099 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562808, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"P05o3pY1PKVi8rbu77H/t0OW888=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 412776091, "operationId": 412776091, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,139 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 39.832, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Zrzdt1rFttDydRJEvQEst5eh4rM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 412776091, "operationId": 412776091, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,141 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 12:53:31,142 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:31,143 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,146 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Zrzdt1rFttDydRJEvQEst5eh4rM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,183 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 37.152, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Zrzdt1rFttDydRJEvQEst5eh4rM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1424268980, "operationId": 1424268980, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,185 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x73c6b1c3beb0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:31,186 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x73c6b1c3beb0>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.033397413406786404>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03523589147571687>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03543197485555466>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,188 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"insert\": \"snap_shares\", \"ordered\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"txnNumber\": 1, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Zrzdt1rFttDydRJEvQEst5eh4rM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"writeConcern\": {\"w\": \"majority\"}, \"$db\": \"twitsnaps\", \"documents\": [{\"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}, \"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}}]}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:31,235 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 47.138, "reply": "{\"n\": 1, \"electionId\": {\"$oid\": \"7fffffff0000000000000067\"}, \"opTime\": {\"ts\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 2}}, \"t\": 103}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"Zrzdt1rFttDydRJEvQEst5eh4rM=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562811, \"i\": 2}}}", "commandName": "insert", "databaseName": "twitsnaps", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:50,329 - INFO - app.config - Request received
2024-11-02 12:53:50,330 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:53:50,332 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:53:50,682 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:53:50,686 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:53:50,689 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:53:51,143 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:53:51,145 - INFO - app.config - User email: test@example.com
2024-11-02 12:53:51,146 - INFO - app.config - Getting followed users
2024-11-02 12:53:51,148 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:53:51,950 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:53:51,954 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:53:51,954 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:51,956 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:51,957 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562828, \"i\": 8}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"bUdY1sbQNWXbhlzcq6CUwKfvzlY=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2084420925, "operationId": 2084420925, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:51,993 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 36.437, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562831, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WrqQgR4VOz1bMTYy9uKChntJMGI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562831, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2084420925, "operationId": 2084420925, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:51,994 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:53:51,995 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:53:51,996 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:53:52,480 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:53:52,483 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:52,483 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,484 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562831, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"WrqQgR4VOz1bMTYy9uKChntJMGI=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,521 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 36.437999999999995, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1937477084, "operationId": 1937477084, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,522 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:52,522 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,523 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,559 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 36.354, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}, {\"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}, \"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1827336327, "operationId": 1827336327, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,561 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:52,562 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,563 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,600 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 36.989000000000004, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 572660336, "operationId": 572660336, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,601 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:53:52,602 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}}
2024-11-02 12:53:52,603 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264a8000349c75d6cc9f34, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03350620198043396>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03524630834441861>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03534596906734759>]>", "clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,604 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"GuaxlIWuQiWBLl5L9/mPBw==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,641 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264a8000349c75d6cc9f34"}, "message": "Command succeeded", "durationMS": 37.047999999999995, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 5}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"4voWMmrcwghaOeKH6WIyTqNP6Ag=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562832, \"i\": 5}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1159126505, "operationId": 1159126505, "driverConnectionId": 1, "serverConnectionId": 97406, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:53:52,642 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 12:55:01,812 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:05,527 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:17,738 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:21,853 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:26,551 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:29,000 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:55:55,899 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:56:03,810 - INFO - app.config - Request received
2024-11-02 12:56:03,812 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:56:03,814 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:56:04,163 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:56:04,170 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:56:04,176 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:56:04,797 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:56:04,799 - INFO - app.config - User email: test@example.com
2024-11-02 12:56:04,801 - INFO - app.config - Getting followed users
2024-11-02 12:56:04,803 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:56:05,608 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:56:05,612 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:56:05,613 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03301387999999861>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03519674299968756>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03478229599932092>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}}
2024-11-02 12:56:05,614 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03301387999999861>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03519674299968756>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03478229599932092>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,108 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pmYNfpDXQDCQ2U/Ev03mhQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,144 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command succeeded", "durationMS": 36.858000000000004, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,146 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:56:06,146 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:56:06,149 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:56:06,649 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:56:06,656 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}}
2024-11-02 12:56:06,659 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,661 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pmYNfpDXQDCQ2U/Ev03mhQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,698 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command succeeded", "durationMS": 37.141, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,701 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}}
2024-11-02 12:56:06,702 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,704 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pmYNfpDXQDCQ2U/Ev03mhQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,741 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command succeeded", "durationMS": 36.918, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}, {\"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}, \"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,744 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}}
2024-11-02 12:56:06,746 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,748 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pmYNfpDXQDCQ2U/Ev03mhQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,784 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command succeeded", "durationMS": 35.919, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 4}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,785 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:56:06,786 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}}
2024-11-02 12:56:06,786 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264b8b9a31c9aa0c6159eb, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03304879619972781>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.035206879199904506>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03529265239958477>]>", "clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,787 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"pmYNfpDXQDCQ2U/Ev03mhQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 4}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,822 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264b8b9a31c9aa0c6159eb"}, "message": "Command succeeded", "durationMS": 34.707, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 7}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"INuniRTcAYcZluqG13aU+rixymQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730562966, \"i\": 7}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97562, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:56:06,823 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 12:56:46,433 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:57:11,003 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:57:30,841 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:57:41,235 - INFO - app.config - FastAPI application is starting...
2024-11-02 12:57:57,845 - INFO - app.config - Request received
2024-11-02 12:57:57,847 - INFO - app.config - Getting user email from token eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20iLCJleHAiOjE3MzA2NDgwMjAsImlhdCI6MTczMDU2MTYyMH0.FX5m28TKvp_0MQkbfS6Xx7UQgqh-li-lpnn_EWdCVnc
2024-11-02 12:57:57,850 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): auth-microservice-vvr6.onrender.com:443
2024-11-02 12:57:58,202 - DEBUG - urllib3.connectionpool - https://auth-microservice-vvr6.onrender.com:443 "GET /auth/get-email-from-token HTTP/1.1" 200 None
2024-11-02 12:57:58,205 - INFO - app.config - Getting profile by email test@example.com
2024-11-02 12:57:58,208 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:57:58,731 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-email?email=test@example.com HTTP/1.1" 200 None
2024-11-02 12:57:58,738 - INFO - app.config - User email: test@example.com
2024-11-02 12:57:58,741 - INFO - app.config - Getting followed users
2024-11-02 12:57:58,745 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:57:59,417 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/followed-emails?username=martincho HTTP/1.1" 200 None
2024-11-02 12:57:59,420 - INFO - app.config - Fetching snaps for followed users: ['brandon@example.com']
2024-11-02 12:57:59,420 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:57:59,421 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:57:59,651 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": {\"$in\": [\"brandon@example.com\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563071, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"GAF9yQVn/d/wN5wBFT/bJBkIOwo=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:57:59,687 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 36.839999999999996, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"69rPtpvUQgY5rEEVdE1PGReWsXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:57:59,688 - INFO - app.config - Retrieved snaps from followed users
2024-11-02 12:57:59,688 - INFO - app.config - Getting profile by username martincho
2024-11-02 12:57:59,689 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:58:00,128 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=martincho HTTP/1.1" 200 None
2024-11-02 12:58:00,131 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:00,132 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,133 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"hashtags\": {\"$in\": [\"#futbol\", \"# politica\", \"# tecnologia\"]}}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"69rPtpvUQgY5rEEVdE1PGReWsXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,169 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 36.693000000000005, "reply": "{\"cursor\": {\"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"69rPtpvUQgY5rEEVdE1PGReWsXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,170 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:00,171 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,172 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563079, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"69rPtpvUQgY5rEEVdE1PGReWsXc=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,208 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 36.606, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}, {\"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}, \"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"CuPJ1mcbtNgNuhkxWLKRohCsbDQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,210 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:00,210 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,211 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"CuPJ1mcbtNgNuhkxWLKRohCsbDQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,248 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 36.807, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"CuPJ1mcbtNgNuhkxWLKRohCsbDQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,249 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:58:00,249 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:00,250 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035103930999321166>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03662016580019554>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03568032439980016>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,250 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"CuPJ1mcbtNgNuhkxWLKRohCsbDQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,286 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 35.966, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"CuPJ1mcbtNgNuhkxWLKRohCsbDQ=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563080, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:00,288 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 12:58:43,436 - INFO - app.config - Request received
2024-11-02 12:58:43,437 - INFO - app.config - Getting profile by username brandon
2024-11-02 12:58:43,437 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 12:58:43,921 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 12:58:43,924 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:43,925 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:43,925 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563121, \"i\": 6}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zNkqIhQ+kd/RHqHRhZEsKFoX7Nk=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:43,961 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 35.55500000000001, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 9}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1125898167, "operationId": 1125898167, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:43,962 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 12:58:43,962 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:43,963 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:43,963 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 9}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1059961393, "operationId": 1059961393, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,000 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 36.621, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}, {\"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}, \"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1059961393, "operationId": 1059961393, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,001 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:44,001 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,002 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2089018456, "operationId": 2089018456, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,039 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 37.719, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 2089018456, "operationId": 2089018456, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,041 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 12:58:44,042 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}}
2024-11-02 12:58:44,044 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264bf5742e7f7f7d9fa472, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.0338999489580472>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.03637435074709985>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.035050438760348364>]>", "clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,046 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"P3otM714SYi07a27tnEDBQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563123, \"i\": 10}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"8DXDfNbS1RvbfqjTi+wOf5MM6Ic=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 628175011, "operationId": 628175011, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,087 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264bf5742e7f7f7d9fa472"}, "message": "Command succeeded", "durationMS": 41.516, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563124, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"zl0J6YiteG3A2pc50WHqUnQU13Y=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563124, \"i\": 1}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 628175011, "operationId": 628175011, "driverConnectionId": 1, "serverConnectionId": 97407, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 12:58:44,091 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 13:00:04,806 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:02:35,850 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:02:55,012 - INFO - app.config - Request received
2024-11-02 13:02:55,014 - INFO - app.config - Getting profile by username brandon
2024-11-02 13:02:55,016 - DEBUG - urllib3.connectionpool - Starting new HTTPS connection (1): profile-microservice.onrender.com:443
2024-11-02 13:02:55,900 - DEBUG - urllib3.connectionpool - https://profile-microservice.onrender.com:443 "GET /profiles/by-username?username=brandon HTTP/1.1" 200 None
2024-11-02 13:02:55,908 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03477382419987407>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}}
2024-11-02 13:02:55,910 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03477382419987407>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,156 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"email\": \"brandon@example.com\"}, \"sort\": {\"created_at\": -1}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Yt0wdokjRjiqJqRZC2XZsQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 1}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,193 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command succeeded", "durationMS": 37.826, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1967513926, "operationId": 1967513926, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,194 - INFO - app.config - Snaps retrieved for user brandon@example.com
2024-11-02 13:02:56,195 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}}
2024-11-02 13:02:56,196 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,197 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command started", "command": "{\"find\": \"snap_shares\", \"filter\": {\"email\": \"brandon@example.com\"}, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Yt0wdokjRjiqJqRZC2XZsQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,232 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command succeeded", "durationMS": 35.5, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672646e5d24055cd0cc638bc\"}, \"snap_id\": \"672626d9b76f7a97ae703bf8\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:36:05.947Z\"}}, {\"_id\": {\"$oid\": \"67264afb00349c75d6cc9f35\"}, \"snap_id\": \"67264691861e7f1f480e3513\", \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"created_at\": {\"$date\": \"2024-11-02T12:53:31.184Z\"}}], \"ns\": \"twitsnaps.snap_shares\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1365180540, "operationId": 1365180540, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,234 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}}
2024-11-02 13:02:56,235 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,236 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Yt0wdokjRjiqJqRZC2XZsQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 2}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,282 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command succeeded", "durationMS": 45.545, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"672626d9b76f7a97ae703bf8\"}, \"email\": \"francisco@gmail.com\", \"username\": \"franciscolaievski\", \"message\": \"A ver los snaps con foto\", \"created_at\": {\"$date\": \"2024-11-02T13:19:21.513Z\"}, \"likes\": 1}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 304089172, "operationId": 304089172, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,283 - INFO - app.config - Snap with id 672626d9b76f7a97ae703bf8 retrieved
2024-11-02 13:02:56,284 - DEBUG - pymongo.serverSelection - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}}
2024-11-02 13:02:56,285 - DEBUG - pymongo.serverSelection - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 67264d1b1aae75c9896272b3, topology_type: ReplicaSetWithPrimary, servers: [<ServerDescription ('twitsnaps-shard-00-00.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03646434800102725>, <ServerDescription ('twitsnaps-shard-00-01.gotah.mongodb.net', 27017) server_type: RSPrimary, rtt: 0.0354465075997723>, <ServerDescription ('twitsnaps-shard-00-02.gotah.mongodb.net', 27017) server_type: RSSecondary, rtt: 0.03528121476010711>]>", "clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,286 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command started", "command": "{\"find\": \"twitsnaps\", \"filter\": {\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}}, \"limit\": 1, \"singleBatch\": true, \"apiVersion\": \"1\", \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Yt0wdokjRjiqJqRZC2XZsQ==\", \"subType\": \"04\"}}}, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"$db\": \"twitsnaps\"}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,332 - DEBUG - pymongo.command - {"clientId": {"$oid": "67264d1b1aae75c9896272b3"}, "message": "Command succeeded", "durationMS": 45.379000000000005, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"67264691861e7f1f480e3513\"}, \"email\": \"brandon@example.com\", \"username\": \"brandon\", \"message\": \"aguante #piastri\", \"created_at\": {\"$date\": \"2024-11-02T15:34:41.824Z\"}, \"is_private\": true, \"hashtags\": [\"#piastri\"]}], \"ns\": \"twitsnaps.twitsnaps\"}, \"ok\": 1.0, \"$clusterTime\": {\"clusterTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 3}}, \"signature\": {\"hash\": {\"$binary\": {\"base64\": \"qzxxYWEwLF9CxelvYaESCMicqg8=\", \"subType\": \"00\"}}, \"keyId\": 7384862756966498310}}, \"operationTime\": {\"$timestamp\": {\"t\": 1730563376, \"i\": 3}}}", "commandName": "find", "databaseName": "twitsnaps", "requestId": 1303455736, "operationId": 1303455736, "driverConnectionId": 1, "serverConnectionId": 97482, "serverHost": "twitsnaps-shard-00-01.gotah.mongodb.net", "serverPort": 27017}
2024-11-02 13:02:56,333 - INFO - app.config - Snap with id 67264691861e7f1f480e3513 retrieved
2024-11-02 13:04:42,158 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:04:44,209 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:04:46,011 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:04:49,795 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:04:51,833 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:04:58,502 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:06,370 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:14,245 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:46,736 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:52,173 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:54,135 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:05:55,888 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:01,576 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:06,628 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:49,492 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:53,414 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:55,517 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:06:58,742 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:07:02,219 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:07:55,396 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:02,454 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:07,200 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:14,038 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:17,830 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:24,474 - INFO - app.config - FastAPI application is starting...
2024-11-02 13:08:27,758 - INFO - app.config - FastAPI application is starting...
